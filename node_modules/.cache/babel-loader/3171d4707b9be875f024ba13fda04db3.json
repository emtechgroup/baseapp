{"ast":null,"code":"import _objectSpread from \"/Users/anthonypafundi/Desktop/baseapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/anthonypafundi/Desktop/baseapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/anthonypafundi/Desktop/baseapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/anthonypafundi/Desktop/baseapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/anthonypafundi/Desktop/baseapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/anthonypafundi/Desktop/baseapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/anthonypafundi/Desktop/baseapp/src/screens/WalletsScreen/index.tsx\";\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport { Button, Spinner } from 'react-bootstrap';\nimport { injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { Blur, CurrencyInfo, DepositCrypto, DepositFiat, TabPanel, WalletList } from '../../components';\nimport { DEFAULT_CCY_PRECISION } from '../../constants';\nimport { Withdraw } from '../../containers';\nimport { ModalWithdrawConfirmation } from '../../containers/ModalWithdrawConfirmation';\nimport { ModalWithdrawSubmit } from '../../containers/ModalWithdrawSubmit';\nimport { EstimatedValue } from '../../containers/Wallets/EstimatedValue';\nimport { WalletHistory } from '../../containers/Wallets/History';\nimport { formatCCYAddress, setDocumentTitle } from '../../helpers';\nimport { alertPush, beneficiariesFetch, currenciesFetch as _currenciesFetch, selectBeneficiariesActivateSuccess, selectBeneficiariesDeleteSuccess, selectCurrencies, selectHistory, selectMobileWalletUi, selectUserInfo, selectWalletAddress, selectWalletCurrency, selectWallets, selectWalletsAddressError, selectWalletsLoading, selectWithdrawSuccess, setMobileWalletUi as _setMobileWalletUi, walletsAddressFetch, walletsData, walletsFetch, walletsWithdrawCcyFetch } from '../../modules';\nvar defaultBeneficiary = {\n  id: 0,\n  currency: '',\n  name: '',\n  state: '',\n  data: {\n    address: ''\n  }\n};\n\nvar WalletsComponent = /*#__PURE__*/function (_React$Component) {\n  _inherits(WalletsComponent, _React$Component);\n\n  var _super = _createSuper(WalletsComponent);\n\n  function WalletsComponent(props) {\n    var _this;\n\n    _classCallCheck(this, WalletsComponent);\n\n    _this = _super.call(this, props);\n\n    _this.translate = function (id) {\n      return _this.props.intl.formatMessage({\n        id\n      });\n    };\n\n    _this.title = _this.translate('page.body.wallets.tabs.deposit.fiat.message1');\n    _this.description = _this.translate('page.body.wallets.tabs.deposit.fiat.message2');\n\n    _this.onTabChange = function (index, label) {\n      return _this.setState({\n        tab: label\n      });\n    };\n\n    _this.onActiveIndexChange = function (index) {\n      return _this.setState({\n        activeIndex: index\n      });\n    };\n\n    _this.onCurrentTabChange = function (index) {\n      return _this.setState({\n        currentTabIndex: index\n      });\n    };\n\n    _this.toggleSubmitModal = function () {\n      _this.setState(function (state) {\n        return {\n          withdrawSubmitModal: !state.withdrawSubmitModal,\n          withdrawDone: true\n        };\n      });\n    };\n\n    _this.toggleConfirmModal = function (amount, total, beneficiary, otpCode) {\n      _this.setState(function (state) {\n        return {\n          amount: amount || '',\n          beneficiary: beneficiary ? beneficiary : defaultBeneficiary,\n          otpCode: otpCode ? otpCode : '',\n          withdrawConfirmModal: !state.withdrawConfirmModal,\n          total: total || '',\n          withdrawDone: false\n        };\n      });\n    };\n\n    _this.handleWithdraw = function () {\n      var _this$state = _this.state,\n          selectedWalletIndex = _this$state.selectedWalletIndex,\n          otpCode = _this$state.otpCode,\n          amount = _this$state.amount,\n          beneficiary = _this$state.beneficiary;\n\n      if (selectedWalletIndex === -1) {\n        return;\n      }\n\n      var currency = _this.props.wallets[selectedWalletIndex].currency;\n      var withdrawRequest = {\n        amount,\n        currency: currency.toLowerCase(),\n        otp: otpCode,\n        beneficiary_id: String(beneficiary.id)\n      };\n\n      _this.props.walletsWithdrawCcy(withdrawRequest);\n\n      _this.toggleConfirmModal();\n    };\n\n    _this.handleOnCopy = function () {\n      _this.props.fetchSuccess({\n        message: ['page.body.wallets.tabs.deposit.ccy.message.success'],\n        type: 'success'\n      });\n    };\n\n    _this.renderDeposit = function (isAccountActivated) {\n      var _this$props = _this.props,\n          addressDepositError = _this$props.addressDepositError,\n          currencies = _this$props.currencies,\n          selectedWalletAddress = _this$props.selectedWalletAddress,\n          selectedWalletCurrency = _this$props.selectedWalletCurrency,\n          user = _this$props.user,\n          wallets = _this$props.wallets;\n      var selectedWalletIndex = _this.state.selectedWalletIndex;\n      var currency = (wallets[selectedWalletIndex] || {\n        currency: ''\n      }).currency;\n      var currencyItem = currencies && currencies.find(function (item) {\n        return item.id === currency;\n      }) || {\n        min_confirmations: 6,\n        deposit_enabled: false\n      };\n\n      var text = _this.props.intl.formatMessage({\n        id: 'page.body.wallets.tabs.deposit.ccy.message.submit'\n      }, {\n        confirmations: currencyItem.min_confirmations\n      });\n\n      var error = addressDepositError ? _this.props.intl.formatMessage({\n        id: addressDepositError.message[0]\n      }) : _this.props.intl.formatMessage({\n        id: 'page.body.wallets.tabs.deposit.ccy.message.error'\n      });\n      var walletAddress = selectedWalletCurrency === currency ? formatCCYAddress(currency, selectedWalletAddress) : '';\n      var blurCryptoClassName = classnames('pg-blur-deposit-crypto', {\n        'pg-blur-deposit-crypto--active': isAccountActivated\n      });\n\n      if (wallets[selectedWalletIndex].type === 'coin') {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(CurrencyInfo, {\n          wallet: wallets[selectedWalletIndex],\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 21\n          }\n        }), currencyItem && !currencyItem.deposit_enabled ? /*#__PURE__*/React.createElement(Blur, {\n          className: blurCryptoClassName,\n          text: _this.translate('page.body.wallets.tabs.deposit.disabled.message'),\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 25\n          }\n        }) : null, /*#__PURE__*/React.createElement(DepositCrypto, {\n          currency: currency,\n          data: walletAddress,\n          handleOnCopy: _this.handleOnCopy,\n          error: error,\n          text: text,\n          disabled: walletAddress === '',\n          copiableTextFieldText: _this.translate('page.body.wallets.tabs.deposit.ccy.message.address'),\n          copyButtonText: _this.translate('page.body.wallets.tabs.deposit.ccy.message.button'),\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 21\n          }\n        }), currency && /*#__PURE__*/React.createElement(WalletHistory, {\n          label: \"deposit\",\n          type: \"deposits\",\n          currency: currency,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 34\n          }\n        }));\n      } else {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(CurrencyInfo, {\n          wallet: wallets[selectedWalletIndex],\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 21\n          }\n        }), currencyItem && !currencyItem.deposit_enabled ? /*#__PURE__*/React.createElement(Blur, {\n          className: \"pg-blur-deposit-fiat\",\n          text: _this.translate('page.body.wallets.tabs.deposit.disabled.message'),\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 25\n          }\n        }) : null, /*#__PURE__*/React.createElement(DepositFiat, {\n          title: _this.title,\n          description: _this.description,\n          uid: user ? user.uid : '',\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 21\n          }\n        }), currency && /*#__PURE__*/React.createElement(WalletHistory, {\n          label: \"deposit\",\n          type: \"deposits\",\n          currency: currency,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 34\n          }\n        }));\n      }\n    };\n\n    _this.renderWithdraw = function () {\n      var _this$props2 = _this.props,\n          currencies = _this$props2.currencies,\n          user = _this$props2.user,\n          wallets = _this$props2.wallets,\n          walletsError = _this$props2.walletsError;\n      var selectedWalletIndex = _this.state.selectedWalletIndex;\n      var currency = (wallets[selectedWalletIndex] || {\n        currency: ''\n      }).currency;\n      var currencyItem = currencies && currencies.find(function (item) {\n        return item.id === currency;\n      });\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CurrencyInfo, {\n        wallet: wallets[selectedWalletIndex],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 17\n        }\n      }), walletsError && /*#__PURE__*/React.createElement(\"p\", {\n        className: \"pg-wallet__error\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 34\n        }\n      }, walletsError.message), currencyItem && !currencyItem.withdrawal_enabled ? /*#__PURE__*/React.createElement(Blur, {\n        className: \"pg-blur-withdraw\",\n        text: _this.translate('page.body.wallets.tabs.withdraw.disabled.message'),\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 21\n        }\n      }) : null, _this.renderWithdrawContent(), user.otp && currency && /*#__PURE__*/React.createElement(WalletHistory, {\n        label: \"withdraw\",\n        type: \"withdraws\",\n        currency: currency,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 42\n        }\n      }));\n    };\n\n    _this.renderWithdrawContent = function () {\n      var _this$state2 = _this.state,\n          withdrawDone = _this$state2.withdrawDone,\n          selectedWalletIndex = _this$state2.selectedWalletIndex;\n\n      if (selectedWalletIndex === -1) {\n        return [{\n          content: null,\n          label: ''\n        }];\n      }\n\n      var _this$props3 = _this.props,\n          _this$props3$user = _this$props3.user,\n          level = _this$props3$user.level,\n          otp = _this$props3$user.otp,\n          wallets = _this$props3.wallets;\n      var wallet = wallets[selectedWalletIndex];\n      var currency = wallet.currency,\n          fee = wallet.fee,\n          type = wallet.type;\n      var fixed = (wallet || {\n        fixed: 0\n      }).fixed;\n      var withdrawProps = {\n        withdrawDone,\n        currency,\n        fee,\n        onClick: _this.toggleConfirmModal,\n        twoFactorAuthRequired: _this.isTwoFactorAuthRequired(level, otp),\n        fixed,\n        type,\n        withdrawAmountLabel: _this.props.intl.formatMessage({\n          id: 'page.body.wallets.tabs.withdraw.content.amount'\n        }),\n        withdraw2faLabel: _this.props.intl.formatMessage({\n          id: 'page.body.wallets.tabs.withdraw.content.code2fa'\n        }),\n        withdrawFeeLabel: _this.props.intl.formatMessage({\n          id: 'page.body.wallets.tabs.withdraw.content.fee'\n        }),\n        withdrawTotalLabel: _this.props.intl.formatMessage({\n          id: 'page.body.wallets.tabs.withdraw.content.total'\n        }),\n        withdrawButtonLabel: _this.props.intl.formatMessage({\n          id: 'page.body.wallets.tabs.withdraw.content.button'\n        })\n      };\n      return otp ? /*#__PURE__*/React.createElement(Withdraw, Object.assign({}, withdrawProps, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 22\n        }\n      })) : _this.isOtpDisabled();\n    };\n\n    _this.isOtpDisabled = function () {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"pg-wallet__enable-2fa-message\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 17\n        }\n      }, _this.translate('page.body.wallets.tabs.withdraw.content.enable2fa')), /*#__PURE__*/React.createElement(Button, {\n        block: true,\n        onClick: _this.redirectToEnable2fa,\n        size: \"lg\",\n        variant: \"primary\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 17\n        }\n      }, _this.translate('page.body.wallets.tabs.withdraw.content.enable2faButton')));\n    };\n\n    _this.redirectToEnable2fa = function () {\n      return _this.props.history.push('/security/2fa', {\n        enable2fa: true\n      });\n    };\n\n    _this.onWalletSelectionChange = function (value) {\n      var wallets = _this.props.wallets;\n      var tab = _this.state.tab;\n      var depositTab = {\n        label: _this.renderTabs()[0].label,\n        index: 0\n      };\n\n      if (!value.address && wallets.length && value.type !== 'fiat') {\n        _this.props.fetchAddress({\n          currency: value.currency\n        });\n      } else if (tab !== depositTab.label && value.type !== 'fiat') {\n        _this.onTabChange(depositTab.index, depositTab.label);\n\n        _this.onCurrentTabChange(depositTab.index);\n      }\n\n      var nextWalletIndex = _this.props.wallets.findIndex(function (wallet) {\n        return wallet.currency.toLowerCase() === value.currency.toLowerCase();\n      });\n\n      _this.setState({\n        selectedWalletIndex: nextWalletIndex,\n        withdrawDone: false\n      });\n\n      _this.props.setMobileWalletUi(wallets[nextWalletIndex].name);\n    };\n\n    _this.state = {\n      activeIndex: 0,\n      selectedWalletIndex: -1,\n      withdrawSubmitModal: false,\n      withdrawConfirmModal: false,\n      otpCode: '',\n      amount: '',\n      beneficiary: defaultBeneficiary,\n      tab: _this.translate('page.body.wallets.tabs.deposit'),\n      withdrawDone: false,\n      total: '',\n      currentTabIndex: 0\n    };\n    return _this;\n  } //tslint:disable member-ordering\n\n\n  _createClass(WalletsComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      setDocumentTitle('Wallets');\n      var _this$props4 = this.props,\n          wallets = _this$props4.wallets,\n          fetchAddress = _this$props4.fetchAddress;\n      var selectedWalletIndex = this.state.selectedWalletIndex;\n\n      if (this.props.wallets.length === 0) {\n        this.props.fetchWallets();\n      }\n\n      if (wallets.length > 0) {\n        this.props.fetchBeneficiaries();\n      }\n\n      if (selectedWalletIndex === -1 && wallets.length) {\n        this.setState({\n          selectedWalletIndex: 0\n        });\n        wallets[0].type === 'coin' && wallets[0].balance && fetchAddress({\n          currency: wallets[0].currency\n        });\n      }\n\n      if (!this.props.currencies.length) {\n        this.props.currenciesFetch();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.clearWallets();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(next) {\n      var _this$props5 = this.props,\n          wallets = _this$props5.wallets,\n          beneficiariesActivateSuccess = _this$props5.beneficiariesActivateSuccess,\n          beneficiariesDeleteSuccess = _this$props5.beneficiariesDeleteSuccess,\n          withdrawSuccess = _this$props5.withdrawSuccess;\n\n      if (wallets.length === 0 && next.wallets.length > 0) {\n        this.setState({\n          selectedWalletIndex: 0\n        });\n        this.props.fetchBeneficiaries();\n        next.wallets[0].type === 'coin' && next.wallets[0].balance && this.props.fetchAddress({\n          currency: next.wallets[0].currency\n        });\n      }\n\n      if (!withdrawSuccess && next.withdrawSuccess) {\n        this.toggleSubmitModal();\n      }\n\n      if (next.beneficiariesActivateSuccess && !beneficiariesActivateSuccess || next.beneficiariesDeleteSuccess && !beneficiariesDeleteSuccess) {\n        this.props.fetchBeneficiaries();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props6 = this.props,\n          wallets = _this$props6.wallets,\n          historyList = _this$props6.historyList,\n          mobileWalletChosen = _this$props6.mobileWalletChosen,\n          walletsLoading = _this$props6.walletsLoading;\n      var _this$state3 = this.state,\n          beneficiary = _this$state3.beneficiary,\n          total = _this$state3.total,\n          selectedWalletIndex = _this$state3.selectedWalletIndex,\n          filteredWallets = _this$state3.filteredWallets,\n          withdrawSubmitModal = _this$state3.withdrawSubmitModal,\n          withdrawConfirmModal = _this$state3.withdrawConfirmModal,\n          currentTabIndex = _this$state3.currentTabIndex;\n      var formattedWallets = wallets.map(function (wallet) {\n        return _objectSpread(_objectSpread({}, wallet), {}, {\n          currency: wallet.currency.toUpperCase(),\n          iconUrl: wallet.iconUrl ? wallet.iconUrl : ''\n        });\n      });\n      var selectedCurrency = (wallets[selectedWalletIndex] || {\n        currency: ''\n      }).currency;\n      var confirmationAddress = '';\n      var selectedWalletPrecision = DEFAULT_CCY_PRECISION;\n\n      if (wallets[selectedWalletIndex]) {\n        selectedWalletPrecision = wallets[selectedWalletIndex].fixed;\n        confirmationAddress = wallets[selectedWalletIndex].type === 'fiat' ? beneficiary.name : beneficiary.data ? beneficiary.data.address : '';\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }\n      }, wallets.length && /*#__PURE__*/React.createElement(EstimatedValue, {\n        wallets: wallets,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 36\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pg-container pg-wallet\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }\n      }, walletsLoading && /*#__PURE__*/React.createElement(Spinner, {\n        animation: \"border\",\n        variant: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 44\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters pg-wallet__tabs-content \".concat(!historyList.length && 'pg-wallet__tabs-content-height'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-5 col-sm-12 col-12 \".concat(mobileWalletChosen && 'd-none d-md-block'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(WalletList, {\n        onWalletSelectionChange: this.onWalletSelectionChange,\n        walletItems: filteredWallets || formattedWallets,\n        activeIndex: this.state.activeIndex,\n        onActiveIndexChange: this.onActiveIndexChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pg-wallet__tabs col-md-7 col-sm-12 col-12 \".concat(!mobileWalletChosen && 'd-none d-md-block'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(TabPanel, {\n        panels: this.renderTabs(),\n        onTabChange: this.onTabChange,\n        currentTabIndex: currentTabIndex,\n        onCurrentTabChange: this.onCurrentTabChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(ModalWithdrawSubmit, {\n        show: withdrawSubmitModal,\n        currency: selectedCurrency,\n        onSubmit: this.toggleSubmitModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(ModalWithdrawConfirmation, {\n        show: withdrawConfirmModal,\n        amount: total,\n        currency: selectedCurrency,\n        rid: confirmationAddress,\n        onSubmit: this.handleWithdraw,\n        onDismiss: this.toggleConfirmModal,\n        precision: selectedWalletPrecision,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }\n      })));\n    }\n  }, {\n    key: \"renderTabs\",\n    value: function renderTabs() {\n      var _this$state4 = this.state,\n          tab = _this$state4.tab,\n          selectedWalletIndex = _this$state4.selectedWalletIndex;\n      var wallets = this.props.wallets;\n\n      if (selectedWalletIndex === -1) {\n        return [{\n          content: null,\n          label: ''\n        }];\n      }\n\n      var showWithdraw = wallets[selectedWalletIndex].type === 'fiat' || wallets[selectedWalletIndex].balance;\n      return [{\n        content: tab === this.translate('page.body.wallets.tabs.deposit') ? this.renderDeposit(!!showWithdraw) : null,\n        label: this.translate('page.body.wallets.tabs.deposit')\n      }, {\n        content: tab === this.translate('page.body.wallets.tabs.withdraw') ? this.renderWithdraw() : null,\n        label: this.translate('page.body.wallets.tabs.withdraw'),\n        disabled: !showWithdraw\n      }];\n    }\n  }, {\n    key: \"isTwoFactorAuthRequired\",\n    value: function isTwoFactorAuthRequired(level, is2faEnabled) {\n      return level > 1 || level === 1 && is2faEnabled;\n    }\n  }]);\n\n  return WalletsComponent;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: selectUserInfo(state),\n    wallets: selectWallets(state),\n    walletsLoading: selectWalletsLoading(state),\n    addressDepositError: selectWalletsAddressError(state),\n    withdrawSuccess: selectWithdrawSuccess(state),\n    historyList: selectHistory(state),\n    mobileWalletChosen: selectMobileWalletUi(state),\n    selectedWalletAddress: selectWalletAddress(state),\n    selectedWalletCurrency: selectWalletCurrency(state),\n    beneficiariesActivateSuccess: selectBeneficiariesActivateSuccess(state),\n    beneficiariesDeleteSuccess: selectBeneficiariesDeleteSuccess(state),\n    currencies: selectCurrencies(state)\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    fetchBeneficiaries: function fetchBeneficiaries() {\n      return dispatch(beneficiariesFetch());\n    },\n    fetchWallets: function fetchWallets() {\n      return dispatch(walletsFetch());\n    },\n    fetchAddress: function fetchAddress(_ref) {\n      var currency = _ref.currency;\n      return dispatch(walletsAddressFetch({\n        currency\n      }));\n    },\n    walletsWithdrawCcy: function walletsWithdrawCcy(params) {\n      return dispatch(walletsWithdrawCcyFetch(params));\n    },\n    clearWallets: function clearWallets() {\n      return dispatch(walletsData([]));\n    },\n    fetchSuccess: function fetchSuccess(payload) {\n      return dispatch(alertPush(payload));\n    },\n    setMobileWalletUi: function setMobileWalletUi(payload) {\n      return dispatch(_setMobileWalletUi(payload));\n    },\n    currenciesFetch: function currenciesFetch() {\n      return dispatch(_currenciesFetch());\n    }\n  };\n};\n\nexport var WalletsScreen = compose(injectIntl, withRouter, connect(mapStateToProps, mapDispatchToProps))(WalletsComponent);","map":{"version":3,"sources":["/Users/anthonypafundi/Desktop/baseapp/src/screens/WalletsScreen/index.tsx"],"names":["classnames","React","Button","Spinner","injectIntl","connect","withRouter","compose","Blur","CurrencyInfo","DepositCrypto","DepositFiat","TabPanel","WalletList","DEFAULT_CCY_PRECISION","Withdraw","ModalWithdrawConfirmation","ModalWithdrawSubmit","EstimatedValue","WalletHistory","formatCCYAddress","setDocumentTitle","alertPush","beneficiariesFetch","currenciesFetch","selectBeneficiariesActivateSuccess","selectBeneficiariesDeleteSuccess","selectCurrencies","selectHistory","selectMobileWalletUi","selectUserInfo","selectWalletAddress","selectWalletCurrency","selectWallets","selectWalletsAddressError","selectWalletsLoading","selectWithdrawSuccess","setMobileWalletUi","walletsAddressFetch","walletsData","walletsFetch","walletsWithdrawCcyFetch","defaultBeneficiary","id","currency","name","state","data","address","WalletsComponent","props","translate","intl","formatMessage","title","description","onTabChange","index","label","setState","tab","onActiveIndexChange","activeIndex","onCurrentTabChange","currentTabIndex","toggleSubmitModal","withdrawSubmitModal","withdrawDone","toggleConfirmModal","amount","total","beneficiary","otpCode","withdrawConfirmModal","handleWithdraw","selectedWalletIndex","wallets","withdrawRequest","toLowerCase","otp","beneficiary_id","String","walletsWithdrawCcy","handleOnCopy","fetchSuccess","message","type","renderDeposit","isAccountActivated","addressDepositError","currencies","selectedWalletAddress","selectedWalletCurrency","user","currencyItem","find","item","min_confirmations","deposit_enabled","text","confirmations","error","walletAddress","blurCryptoClassName","uid","renderWithdraw","walletsError","withdrawal_enabled","renderWithdrawContent","content","level","wallet","fee","fixed","withdrawProps","onClick","twoFactorAuthRequired","isTwoFactorAuthRequired","withdrawAmountLabel","withdraw2faLabel","withdrawFeeLabel","withdrawTotalLabel","withdrawButtonLabel","isOtpDisabled","redirectToEnable2fa","history","push","enable2fa","onWalletSelectionChange","value","depositTab","renderTabs","length","fetchAddress","nextWalletIndex","findIndex","fetchWallets","fetchBeneficiaries","balance","clearWallets","next","beneficiariesActivateSuccess","beneficiariesDeleteSuccess","withdrawSuccess","historyList","mobileWalletChosen","walletsLoading","filteredWallets","formattedWallets","map","toUpperCase","iconUrl","selectedCurrency","confirmationAddress","selectedWalletPrecision","showWithdraw","disabled","is2faEnabled","Component","mapStateToProps","mapDispatchToProps","dispatch","params","payload","WalletsScreen"],"mappings":"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","sourcesContent":["import classnames from 'classnames';\nimport * as React from 'react';\nimport { Button, Spinner } from 'react-bootstrap';\nimport { injectIntl } from 'react-intl';\nimport { connect, MapDispatchToProps } from 'react-redux';\nimport { RouterProps } from 'react-router';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { IntlProps } from '../../';\nimport { Blur, CurrencyInfo, DepositCrypto, DepositFiat, TabPanel, WalletItemProps, WalletList } from '../../components';\nimport { DEFAULT_CCY_PRECISION } from '../../constants';\nimport { Withdraw, WithdrawProps } from '../../containers';\nimport { ModalWithdrawConfirmation } from '../../containers/ModalWithdrawConfirmation';\nimport { ModalWithdrawSubmit } from '../../containers/ModalWithdrawSubmit';\nimport { EstimatedValue } from '../../containers/Wallets/EstimatedValue';\nimport { WalletHistory } from '../../containers/Wallets/History';\nimport { formatCCYAddress, setDocumentTitle } from '../../helpers';\nimport {\n    alertPush,\n    beneficiariesFetch,\n    Beneficiary,\n    currenciesFetch,\n    Currency,\n    RootState,\n    selectBeneficiariesActivateSuccess,\n    selectBeneficiariesDeleteSuccess,\n    selectCurrencies,\n    selectHistory,\n    selectMobileWalletUi,\n    selectUserInfo,\n    selectWalletAddress,\n    selectWalletCurrency,\n    selectWallets,\n    selectWalletsAddressError,\n    selectWalletsLoading,\n    selectWithdrawSuccess,\n    setMobileWalletUi,\n    User,\n    WalletHistoryList,\n    walletsAddressFetch,\n    walletsData,\n    walletsFetch,\n    walletsWithdrawCcyFetch,\n} from '../../modules';\nimport { CommonError } from '../../modules/types';\n\n\ninterface ReduxProps {\n    user: User;\n    wallets: WalletItemProps[];\n    withdrawSuccess: boolean;\n    addressDepositError?: CommonError;\n    walletsLoading?: boolean;\n    historyList: WalletHistoryList;\n    mobileWalletChosen: string;\n    selectedWalletCurrency: string;\n    selectedWalletAddress: string;\n    beneficiariesActivateSuccess: boolean;\n    beneficiariesDeleteSuccess: boolean;\n    currencies: Currency[];\n}\n\ninterface DispatchProps {\n    fetchBeneficiaries: typeof beneficiariesFetch;\n    fetchWallets: typeof walletsFetch;\n    fetchAddress: typeof walletsAddressFetch;\n    clearWallets: () => void;\n    walletsWithdrawCcy: typeof walletsWithdrawCcyFetch;\n    fetchSuccess: typeof alertPush;\n    setMobileWalletUi: typeof setMobileWalletUi;\n    currenciesFetch: typeof currenciesFetch;\n}\n\nconst defaultBeneficiary: Beneficiary = {\n    id: 0,\n    currency: '',\n    name: '',\n    state: '',\n    data: {\n        address: '',\n    },\n};\n\ninterface WalletsState {\n    activeIndex: number;\n    otpCode: string;\n    amount: string;\n    beneficiary: Beneficiary;\n    selectedWalletIndex: number;\n    withdrawSubmitModal: boolean;\n    withdrawConfirmModal: boolean;\n    bchAddress?: string;\n    filteredWallets?: WalletItemProps[] | null;\n    tab: string;\n    withdrawDone: boolean;\n    total: string;\n    currentTabIndex: number;\n}\n\ninterface OwnProps {\n    walletsError: {\n        message: string;\n    };\n}\n\ntype Props = ReduxProps & DispatchProps & RouterProps & IntlProps & OwnProps;\n\nclass WalletsComponent extends React.Component<Props, WalletsState> {\n    constructor(props: Props) {\n        super(props);\n\n        this.state = {\n            activeIndex: 0,\n            selectedWalletIndex: -1,\n            withdrawSubmitModal: false,\n            withdrawConfirmModal: false,\n            otpCode: '',\n            amount: '',\n            beneficiary: defaultBeneficiary,\n            tab: this.translate('page.body.wallets.tabs.deposit'),\n            withdrawDone: false,\n            total: '',\n            currentTabIndex: 0,\n        };\n    }\n\n    //tslint:disable member-ordering\n    public translate = (id: string) => this.props.intl.formatMessage({ id });\n\n    private title = this.translate('page.body.wallets.tabs.deposit.fiat.message1');\n    private description = this.translate('page.body.wallets.tabs.deposit.fiat.message2');\n\n    public componentDidMount() {\n        setDocumentTitle('Wallets');\n        const { wallets, fetchAddress } = this.props;\n        const { selectedWalletIndex } = this.state;\n\n        if (this.props.wallets.length === 0) {\n            this.props.fetchWallets();\n        }\n\n        if (wallets.length > 0) {\n            this.props.fetchBeneficiaries();\n        }\n\n        if (selectedWalletIndex === -1 && wallets.length) {\n            this.setState({ selectedWalletIndex: 0 });\n            wallets[0].type === 'coin' && wallets[0].balance && fetchAddress({ currency: wallets[0].currency });\n        }\n\n        if (!this.props.currencies.length) {\n            this.props.currenciesFetch();\n        }\n    }\n\n    public componentWillUnmount() {\n        this.props.clearWallets();\n    }\n\n    public componentWillReceiveProps(next: Props) {\n        const {\n            wallets,\n            beneficiariesActivateSuccess,\n            beneficiariesDeleteSuccess,\n            withdrawSuccess,\n        } = this.props;\n\n        if (wallets.length === 0 && next.wallets.length > 0) {\n            this.setState({\n                selectedWalletIndex: 0,\n            });\n            this.props.fetchBeneficiaries();\n            next.wallets[0].type === 'coin' && next.wallets[0].balance && this.props.fetchAddress({ currency: next.wallets[0].currency });\n        }\n\n        if (!withdrawSuccess && next.withdrawSuccess) {\n            this.toggleSubmitModal();\n        }\n\n        if ((next.beneficiariesActivateSuccess && !beneficiariesActivateSuccess) ||\n            (next.beneficiariesDeleteSuccess && !beneficiariesDeleteSuccess)) {\n            this.props.fetchBeneficiaries();\n        }\n    }\n\n    public render() {\n        const { wallets, historyList, mobileWalletChosen, walletsLoading } = this.props;\n        const {\n            beneficiary,\n            total,\n            selectedWalletIndex,\n            filteredWallets,\n            withdrawSubmitModal,\n            withdrawConfirmModal,\n            currentTabIndex,\n        } = this.state;\n        const formattedWallets = wallets.map((wallet: WalletItemProps) => ({\n            ...wallet,\n            currency: wallet.currency.toUpperCase(),\n            iconUrl: wallet.iconUrl ? wallet.iconUrl : '',\n        }));\n        const selectedCurrency = (wallets[selectedWalletIndex] || { currency: '' }).currency;\n        let confirmationAddress = '';\n        let selectedWalletPrecision = DEFAULT_CCY_PRECISION;\n\n        if (wallets[selectedWalletIndex]) {\n            selectedWalletPrecision = wallets[selectedWalletIndex].fixed;\n            confirmationAddress = wallets[selectedWalletIndex].type === 'fiat' ? (\n                beneficiary.name\n            ) : (\n                beneficiary.data ? (beneficiary.data.address as string) : ''\n            );\n        }\n\n        return (\n            <React.Fragment>\n                {wallets.length && <EstimatedValue wallets={wallets} />}\n                <div className=\"pg-container pg-wallet\">\n                    <div className=\"text-center\">\n                        {walletsLoading && <Spinner animation=\"border\" variant=\"primary\" />}\n                    </div>\n                    <div className={`row no-gutters pg-wallet__tabs-content ${!historyList.length && 'pg-wallet__tabs-content-height'}`}>\n                        <div className={`col-md-5 col-sm-12 col-12 ${mobileWalletChosen && 'd-none d-md-block'}`}>\n                            <WalletList\n                                onWalletSelectionChange={this.onWalletSelectionChange}\n                                walletItems={filteredWallets || formattedWallets}\n                                activeIndex={this.state.activeIndex}\n                                onActiveIndexChange={this.onActiveIndexChange}\n                            />\n                        </div>\n                        <div className={`pg-wallet__tabs col-md-7 col-sm-12 col-12 ${!mobileWalletChosen && 'd-none d-md-block'}`}>\n                            <TabPanel\n                                panels={this.renderTabs()}\n                                onTabChange={this.onTabChange}\n                                currentTabIndex={currentTabIndex}\n                                onCurrentTabChange={this.onCurrentTabChange}\n                            />\n                        </div>\n                    </div>\n                    <ModalWithdrawSubmit\n                        show={withdrawSubmitModal}\n                        currency={selectedCurrency}\n                        onSubmit={this.toggleSubmitModal}\n                    />\n                    <ModalWithdrawConfirmation\n                        show={withdrawConfirmModal}\n                        amount={total}\n                        currency={selectedCurrency}\n                        rid={confirmationAddress}\n                        onSubmit={this.handleWithdraw}\n                        onDismiss={this.toggleConfirmModal}\n                        precision={selectedWalletPrecision}\n                    />\n                </div>\n            </React.Fragment>\n        );\n    }\n\n    private onTabChange = (index, label) => this.setState({ tab: label });\n\n    private onActiveIndexChange = index => this.setState({ activeIndex: index });\n\n    private onCurrentTabChange = index => this.setState({ currentTabIndex: index });\n\n    private toggleSubmitModal = () => {\n        this.setState((state: WalletsState) => ({\n            withdrawSubmitModal: !state.withdrawSubmitModal,\n            withdrawDone: true,\n        }));\n    };\n\n    private toggleConfirmModal = (amount?: string, total?: string, beneficiary?: Beneficiary, otpCode?: string) => {\n        this.setState((state: WalletsState) => ({\n            amount: amount || '',\n            beneficiary: beneficiary ? beneficiary : defaultBeneficiary,\n            otpCode: otpCode ? otpCode : '',\n            withdrawConfirmModal: !state.withdrawConfirmModal,\n            total: total || '',\n            withdrawDone: false,\n        }));\n    };\n\n    private renderTabs() {\n        const { tab, selectedWalletIndex } = this.state;\n        const { wallets } = this.props;\n\n        if (selectedWalletIndex === -1) {\n            return [{ content: null, label: '' }];\n        }\n\n        const showWithdraw = wallets[selectedWalletIndex].type === 'fiat' || wallets[selectedWalletIndex].balance;\n\n        return [\n            {\n                content: tab === this.translate('page.body.wallets.tabs.deposit') ? this.renderDeposit(!!showWithdraw) : null,\n                label: this.translate('page.body.wallets.tabs.deposit'),\n            },\n            {\n                content: tab === this.translate('page.body.wallets.tabs.withdraw') ? this.renderWithdraw() : null,\n                label: this.translate('page.body.wallets.tabs.withdraw'),\n                disabled: !showWithdraw,\n            },\n        ];\n    }\n\n    private handleWithdraw = () => {\n        const { selectedWalletIndex, otpCode, amount, beneficiary } = this.state;\n        if (selectedWalletIndex === -1) {\n            return;\n        }\n\n        const { currency } = this.props.wallets[selectedWalletIndex];\n        const withdrawRequest = {\n            amount,\n            currency: currency.toLowerCase(),\n            otp: otpCode,\n            beneficiary_id: String(beneficiary.id),\n        };\n        this.props.walletsWithdrawCcy(withdrawRequest);\n        this.toggleConfirmModal();\n    };\n\n    private handleOnCopy = () => {\n        this.props.fetchSuccess({ message: ['page.body.wallets.tabs.deposit.ccy.message.success'], type: 'success'});\n    };\n\n    private renderDeposit = (isAccountActivated: boolean) => {\n        const {\n            addressDepositError,\n            currencies,\n            selectedWalletAddress,\n            selectedWalletCurrency,\n            user,\n            wallets,\n        } = this.props;\n        const { selectedWalletIndex } = this.state;\n        const currency = (wallets[selectedWalletIndex] || { currency: '' }).currency;\n        const currencyItem = (currencies && currencies.find(item => item.id === currency)) || { min_confirmations: 6, deposit_enabled: false };\n        const text = this.props.intl.formatMessage({ id: 'page.body.wallets.tabs.deposit.ccy.message.submit' },\n                                                   { confirmations: currencyItem.min_confirmations });\n        const error = addressDepositError ?\n            this.props.intl.formatMessage({id: addressDepositError.message[0]}) :\n            this.props.intl.formatMessage({id: 'page.body.wallets.tabs.deposit.ccy.message.error'});\n\n        const walletAddress = (selectedWalletCurrency === currency) ? formatCCYAddress(currency, selectedWalletAddress) : '';\n        const blurCryptoClassName = classnames('pg-blur-deposit-crypto', {\n            'pg-blur-deposit-crypto--active': isAccountActivated,\n        });\n\n        if (wallets[selectedWalletIndex].type === 'coin') {\n            return (\n                <React.Fragment>\n                    <CurrencyInfo wallet={wallets[selectedWalletIndex]}/>\n                    {currencyItem && !currencyItem.deposit_enabled ? (\n                        <Blur\n                            className={blurCryptoClassName}\n                            text={this.translate('page.body.wallets.tabs.deposit.disabled.message')}\n                        />\n                    ) : null}\n                    <DepositCrypto\n                        currency={currency}\n                        data={walletAddress}\n                        handleOnCopy={this.handleOnCopy}\n                        error={error}\n                        text={text}\n                        disabled={walletAddress === ''}\n                        copiableTextFieldText={this.translate('page.body.wallets.tabs.deposit.ccy.message.address')}\n                        copyButtonText={this.translate('page.body.wallets.tabs.deposit.ccy.message.button')}\n                    />\n                    {currency && <WalletHistory label=\"deposit\" type=\"deposits\" currency={currency} />}\n                </React.Fragment>\n            );\n        } else {\n            return (\n                <React.Fragment>\n                    <CurrencyInfo wallet={wallets[selectedWalletIndex]}/>\n                    {currencyItem && !currencyItem.deposit_enabled ? (\n                        <Blur\n                            className=\"pg-blur-deposit-fiat\"\n                            text={this.translate('page.body.wallets.tabs.deposit.disabled.message')}\n                        />\n                    ) : null}\n                    <DepositFiat title={this.title} description={this.description} uid={user ? user.uid : ''}/>\n                    {currency && <WalletHistory label=\"deposit\" type=\"deposits\" currency={currency} />}\n                </React.Fragment>\n            );\n        }\n    };\n\n    private renderWithdraw = () => {\n        const { currencies, user, wallets, walletsError } = this.props;\n        const { selectedWalletIndex } = this.state;\n        const currency = (wallets[selectedWalletIndex] || { currency: '' }).currency;\n        const currencyItem = (currencies && currencies.find(item => item.id === currency));\n\n        return (\n            <React.Fragment>\n                <CurrencyInfo wallet={wallets[selectedWalletIndex]}/>\n                {walletsError && <p className=\"pg-wallet__error\">{walletsError.message}</p>}\n                {currencyItem && !currencyItem.withdrawal_enabled ? (\n                    <Blur\n                        className=\"pg-blur-withdraw\"\n                        text={this.translate('page.body.wallets.tabs.withdraw.disabled.message')}\n                    />\n                ) : null}\n                {this.renderWithdrawContent()}\n                {user.otp && currency && <WalletHistory label=\"withdraw\" type=\"withdraws\" currency={currency} />}\n            </React.Fragment>\n        );\n    };\n\n    private renderWithdrawContent = () => {\n        const { withdrawDone, selectedWalletIndex } = this.state;\n\n        if (selectedWalletIndex === -1) {\n            return [{ content: null, label: '' }];\n        }\n        const { user: { level, otp }, wallets } = this.props;\n        const wallet = wallets[selectedWalletIndex];\n        const { currency, fee, type } = wallet;\n        const fixed = (wallet || { fixed: 0 }).fixed;\n\n        const withdrawProps: WithdrawProps = {\n            withdrawDone,\n            currency,\n            fee,\n            onClick: this.toggleConfirmModal,\n            twoFactorAuthRequired: this.isTwoFactorAuthRequired(level, otp),\n            fixed,\n            type,\n            withdrawAmountLabel: this.props.intl.formatMessage({ id: 'page.body.wallets.tabs.withdraw.content.amount' }),\n            withdraw2faLabel: this.props.intl.formatMessage({ id: 'page.body.wallets.tabs.withdraw.content.code2fa' }),\n            withdrawFeeLabel: this.props.intl.formatMessage({ id: 'page.body.wallets.tabs.withdraw.content.fee' }),\n            withdrawTotalLabel: this.props.intl.formatMessage({ id: 'page.body.wallets.tabs.withdraw.content.total' }),\n            withdrawButtonLabel: this.props.intl.formatMessage({ id: 'page.body.wallets.tabs.withdraw.content.button' }),\n        };\n\n        return otp ? <Withdraw {...withdrawProps} /> : this.isOtpDisabled();\n    };\n\n\n    private isOtpDisabled = () => {\n        return (\n            <React.Fragment>\n                <p className=\"pg-wallet__enable-2fa-message\">\n                    {this.translate('page.body.wallets.tabs.withdraw.content.enable2fa')}\n                </p>\n                <Button\n                    block={true}\n                    onClick={this.redirectToEnable2fa}\n                    size=\"lg\"\n                    variant=\"primary\"\n                >\n                    {this.translate('page.body.wallets.tabs.withdraw.content.enable2faButton')}\n                </Button>\n            </React.Fragment>\n        );\n    };\n\n\n    private redirectToEnable2fa = () => this.props.history.push('/security/2fa', { enable2fa: true });\n\n\n    private isTwoFactorAuthRequired(level: number, is2faEnabled: boolean) {\n        return level > 1 || (level === 1 && is2faEnabled);\n    }\n\n    private onWalletSelectionChange = (value: WalletItemProps) => {\n        const { wallets } = this.props;\n        const { tab } = this.state;\n        const depositTab = { label: this.renderTabs()[0].label, index: 0 };\n\n        if (!value.address && wallets.length && value.type !== 'fiat') {\n            this.props.fetchAddress({ currency: value.currency });\n        } else if (tab !== depositTab.label && value.type !== 'fiat') {\n            this.onTabChange(depositTab.index, depositTab.label);\n            this.onCurrentTabChange(depositTab.index);\n        }\n\n        const nextWalletIndex = this.props.wallets.findIndex(\n            wallet => wallet.currency.toLowerCase() === value.currency.toLowerCase(),\n        );\n\n        this.setState({\n            selectedWalletIndex: nextWalletIndex,\n            withdrawDone: false,\n        });\n        this.props.setMobileWalletUi(wallets[nextWalletIndex].name);\n    };\n}\n\nconst mapStateToProps = (state: RootState): ReduxProps => ({\n    user: selectUserInfo(state),\n    wallets: selectWallets(state),\n    walletsLoading: selectWalletsLoading(state),\n    addressDepositError: selectWalletsAddressError(state),\n    withdrawSuccess: selectWithdrawSuccess(state),\n    historyList: selectHistory(state),\n    mobileWalletChosen: selectMobileWalletUi(state),\n    selectedWalletAddress: selectWalletAddress(state),\n    selectedWalletCurrency: selectWalletCurrency(state),\n    beneficiariesActivateSuccess: selectBeneficiariesActivateSuccess(state),\n    beneficiariesDeleteSuccess: selectBeneficiariesDeleteSuccess(state),\n    currencies: selectCurrencies(state),\n});\n\nconst mapDispatchToProps: MapDispatchToProps<DispatchProps, {}> = dispatch => ({\n    fetchBeneficiaries: () => dispatch(beneficiariesFetch()),\n    fetchWallets: () => dispatch(walletsFetch()),\n    fetchAddress: ({ currency }) => dispatch(walletsAddressFetch({ currency })),\n    walletsWithdrawCcy: params => dispatch(walletsWithdrawCcyFetch(params)),\n    clearWallets: () => dispatch(walletsData([])),\n    fetchSuccess: payload => dispatch(alertPush(payload)),\n    setMobileWalletUi: payload => dispatch(setMobileWalletUi(payload)),\n    currenciesFetch: () => dispatch(currenciesFetch()),\n});\n\nexport const WalletsScreen = compose(\n    injectIntl,\n    withRouter,\n    connect(mapStateToProps, mapDispatchToProps),\n)(WalletsComponent) as React.ComponentClass;\n"]},"metadata":{},"sourceType":"module"}