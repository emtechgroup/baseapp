{"ast":null,"code":"import _objectSpread from \"/Users/anthonypafundi/Desktop/baseapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/anthonypafundi/Desktop/baseapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/anthonypafundi/Desktop/baseapp/src/components/Beneficiaries/BeneficiariesAddModal.tsx\";\n\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { useIntl } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Modal } from '../../mobile/components/Modal';\nimport { beneficiariesCreate, selectMobileDeviceState } from '../../modules';\nimport { CustomInput } from '../CustomInput';\n\nvar BeneficiariesAddModalComponent = function BeneficiariesAddModalComponent(props) {\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      coinAddress = _React$useState2[0],\n      setCoinAddress = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      coinBeneficiaryName = _React$useState4[0],\n      setCoinBeneficiaryName = _React$useState4[1];\n\n  var _React$useState5 = React.useState(''),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      coinDescription = _React$useState6[0],\n      setCoinDescription = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      coinAddressFocused = _React$useState8[0],\n      setCoinAddressFocused = _React$useState8[1];\n\n  var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      coinBeneficiaryNameFocused = _React$useState10[0],\n      setCoinBeneficiaryNameFocused = _React$useState10[1];\n\n  var _React$useState11 = React.useState(false),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      coinDescriptionFocused = _React$useState12[0],\n      setCoinDescriptionFocused = _React$useState12[1];\n\n  var _React$useState13 = React.useState(''),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      fiatName = _React$useState14[0],\n      setFiatName = _React$useState14[1];\n\n  var _React$useState15 = React.useState(''),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      fiatFullName = _React$useState16[0],\n      setFiatFullName = _React$useState16[1];\n\n  var _React$useState17 = React.useState(''),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      fiatAccountNumber = _React$useState18[0],\n      setFiatAccountNumber = _React$useState18[1];\n\n  var _React$useState19 = React.useState(''),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      fiatBankName = _React$useState20[0],\n      setFiatBankName = _React$useState20[1];\n\n  var _React$useState21 = React.useState(''),\n      _React$useState22 = _slicedToArray(_React$useState21, 2),\n      fiatBankSwiftCode = _React$useState22[0],\n      setFiatBankSwiftCode = _React$useState22[1];\n\n  var _React$useState23 = React.useState(''),\n      _React$useState24 = _slicedToArray(_React$useState23, 2),\n      fiatIntermediaryBankName = _React$useState24[0],\n      setFiatIntermediaryBankName = _React$useState24[1];\n\n  var _React$useState25 = React.useState(''),\n      _React$useState26 = _slicedToArray(_React$useState25, 2),\n      fiatIntermediaryBankSwiftCode = _React$useState26[0],\n      setFiatIntermediaryBankSwiftCode = _React$useState26[1];\n\n  var _React$useState27 = React.useState(false),\n      _React$useState28 = _slicedToArray(_React$useState27, 2),\n      fiatNameFocused = _React$useState28[0],\n      setFiatNameFocused = _React$useState28[1];\n\n  var _React$useState29 = React.useState(false),\n      _React$useState30 = _slicedToArray(_React$useState29, 2),\n      fiatFullNameFocused = _React$useState30[0],\n      setFiatFullNameFocused = _React$useState30[1];\n\n  var _React$useState31 = React.useState(false),\n      _React$useState32 = _slicedToArray(_React$useState31, 2),\n      fiatAccountNumberFocused = _React$useState32[0],\n      setFiatAccountNumberFocused = _React$useState32[1];\n\n  var _React$useState33 = React.useState(false),\n      _React$useState34 = _slicedToArray(_React$useState33, 2),\n      fiatBankNameFocused = _React$useState34[0],\n      setFiatBankNameFocused = _React$useState34[1];\n\n  var _React$useState35 = React.useState(false),\n      _React$useState36 = _slicedToArray(_React$useState35, 2),\n      fiatBankSwiftCodeFocused = _React$useState36[0],\n      setFiatBankSwiftCodeFocused = _React$useState36[1];\n\n  var _React$useState37 = React.useState(false),\n      _React$useState38 = _slicedToArray(_React$useState37, 2),\n      fiatIntermediaryBankNameFocused = _React$useState38[0],\n      setFiatIntermediaryBankNameFocused = _React$useState38[1];\n\n  var _React$useState39 = React.useState(false),\n      _React$useState40 = _slicedToArray(_React$useState39, 2),\n      fiatIntermediaryBankSwiftCodeFocused = _React$useState40[0],\n      setFiatIntermediaryBankSwiftCodeFocused = _React$useState40[1];\n\n  var type = props.type,\n      handleToggleAddAddressModal = props.handleToggleAddAddressModal,\n      currency = props.currency;\n\n  var _useIntl = useIntl(),\n      formatMessage = _useIntl.formatMessage;\n\n  var dispatch = useDispatch();\n  var isMobileDevice = useSelector(selectMobileDeviceState);\n  var handleClearModalsInputs = React.useCallback(function () {\n    setCoinAddress('');\n    setCoinBeneficiaryName('');\n    setCoinDescription('');\n    setCoinAddressFocused(false);\n    setCoinBeneficiaryNameFocused(false);\n    setCoinDescriptionFocused(false);\n    setFiatAccountNumber('');\n    setFiatName('');\n    setFiatFullName('');\n    setFiatBankName('');\n    setFiatBankSwiftCode('');\n    setFiatIntermediaryBankName('');\n    setFiatIntermediaryBankSwiftCode('');\n    setFiatNameFocused(false);\n    setFiatFullNameFocused(false);\n    setFiatAccountNumberFocused(false);\n    setFiatBankNameFocused(false);\n    setFiatBankSwiftCodeFocused(false);\n    setFiatIntermediaryBankNameFocused(false);\n    setFiatIntermediaryBankSwiftCodeFocused(false); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var handleClickToggleAddAddressModal = React.useCallback(function (clear) {\n    return function () {\n      handleToggleAddAddressModal();\n\n      if (clear) {\n        handleClearModalsInputs();\n      }\n    };\n  }, [handleClearModalsInputs, handleToggleAddAddressModal]);\n  var renderAddAddressModalHeader = React.useCallback(function () {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cr-email-form__options-group\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cr-email-form__option\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cr-email-form__option-inner\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, formatMessage({\n      id: 'page.body.wallets.beneficiaries.addAddressModal.header'\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"pg-profile-page__close pg-profile-page__pull-right\",\n      onClick: handleClickToggleAddAddressModal(true),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    }))));\n  }, [formatMessage, handleClickToggleAddAddressModal]);\n  var handleSubmitAddAddressCoinModal = React.useCallback(function () {\n    // tslint:disable-next-line:no-any\n    var payload = {\n      currency: currency || '',\n      name: coinBeneficiaryName,\n      data: JSON.stringify({\n        address: coinAddress\n      })\n    };\n\n    if (coinDescription) {\n      payload = _objectSpread(_objectSpread({}, payload), {}, {\n        description: coinDescription\n      });\n    }\n\n    dispatch(beneficiariesCreate(payload));\n    handleClearModalsInputs();\n  }, [coinAddress, coinBeneficiaryName, coinDescription, dispatch, handleClearModalsInputs, currency]);\n  var getState = React.useCallback(function (key) {\n    switch (key) {\n      case 'coinAddress':\n        return coinAddress;\n\n      case 'coinBeneficiaryName':\n        return coinBeneficiaryName;\n\n      case 'coinDescription':\n        return coinDescription;\n\n      case 'coinAddressFocused':\n        return coinAddressFocused;\n\n      case 'coinBeneficiaryNameFocused':\n        return coinBeneficiaryNameFocused;\n\n      case 'coinDescriptionFocused':\n        return coinDescriptionFocused;\n\n      case 'fiatName':\n        return fiatName;\n\n      case 'fiatFullName':\n        return fiatFullName;\n\n      case 'fiatAccountNumber':\n        return fiatAccountNumber;\n\n      case 'fiatBankName':\n        return fiatBankName;\n\n      case 'fiatBankSwiftCode':\n        return fiatBankSwiftCode;\n\n      case 'fiatIntermediaryBankName':\n        return fiatIntermediaryBankName;\n\n      case 'fiatIntermediaryBankSwiftCode':\n        return fiatIntermediaryBankSwiftCode;\n\n      case 'fiatNameFocused':\n        return fiatNameFocused;\n\n      case 'fiatFullNameFocused':\n        return fiatFullNameFocused;\n\n      case 'fiatAccountNumberFocused':\n        return fiatAccountNumberFocused;\n\n      case 'fiatBankNameFocused':\n        return fiatBankNameFocused;\n\n      case 'fiatBankSwiftCodeFocused':\n        return fiatBankSwiftCodeFocused;\n\n      case 'fiatIntermediaryBankNameFocused':\n        return fiatIntermediaryBankNameFocused;\n\n      case 'fiatIntermediaryBankSwiftCodeFocused':\n        return fiatIntermediaryBankSwiftCodeFocused;\n\n      default:\n        return '';\n    }\n  }, [coinAddress, coinAddressFocused, coinBeneficiaryName, coinBeneficiaryNameFocused, coinDescription, coinDescriptionFocused, fiatAccountNumber, fiatAccountNumberFocused, fiatBankName, fiatBankNameFocused, fiatBankSwiftCode, fiatBankSwiftCodeFocused, fiatFullName, fiatFullNameFocused, fiatIntermediaryBankName, fiatIntermediaryBankNameFocused, fiatIntermediaryBankSwiftCode, fiatIntermediaryBankSwiftCodeFocused, fiatName, fiatNameFocused]);\n  var handleChangeFieldValue = React.useCallback(function (key, value) {\n    switch (key) {\n      case 'coinAddress':\n        setCoinAddress(value);\n        break;\n\n      case 'coinBeneficiaryName':\n        setCoinBeneficiaryName(value);\n        break;\n\n      case 'coinDescription':\n        setCoinDescription(value);\n        break;\n\n      case 'fiatName':\n        setFiatName(value);\n        break;\n\n      case 'fiatFullName':\n        setFiatFullName(value);\n        break;\n\n      case 'fiatAccountNumber':\n        setFiatAccountNumber(value);\n        break;\n\n      case 'fiatBankName':\n        setFiatBankName(value);\n        break;\n\n      case 'fiatBankSwiftCode':\n        setFiatBankSwiftCode(value);\n        break;\n\n      case 'fiatIntermediaryBankName':\n        setFiatIntermediaryBankName(value);\n        break;\n\n      case 'fiatIntermediaryBankSwiftCode':\n        setFiatIntermediaryBankSwiftCode(value);\n        break;\n\n      default:\n        break;\n    }\n  }, []);\n  var handleChangeFieldFocus = React.useCallback(function (key) {\n    switch (key) {\n      case 'coinAddressFocused':\n        setCoinAddressFocused(function (v) {\n          return !v;\n        });\n        break;\n\n      case 'coinBeneficiaryNameFocused':\n        setCoinBeneficiaryNameFocused(function (v) {\n          return !v;\n        });\n        break;\n\n      case 'coinDescriptionFocused':\n        setCoinDescriptionFocused(function (v) {\n          return !v;\n        });\n        break;\n\n      case 'fiatNameFocused':\n        setFiatNameFocused(function (v) {\n          return !v;\n        });\n        break;\n\n      case 'fiatFullNameFocused':\n        setFiatFullNameFocused(function (v) {\n          return !v;\n        });\n        break;\n\n      case 'fiatAccountNumberFocused':\n        setFiatAccountNumberFocused(function (v) {\n          return !v;\n        });\n        break;\n\n      case 'fiatBankNameFocused':\n        setFiatBankNameFocused(function (v) {\n          return !v;\n        });\n        break;\n\n      case 'fiatBankSwiftCodeFocused':\n        setFiatBankSwiftCodeFocused(function (v) {\n          return !v;\n        });\n        break;\n\n      case 'fiatIntermediaryBankNameFocused':\n        setFiatIntermediaryBankNameFocused(function (v) {\n          return !v;\n        });\n        break;\n\n      case 'fiatIntermediaryBankSwiftCodeFocused':\n        setFiatIntermediaryBankSwiftCodeFocused(function (v) {\n          return !v;\n        });\n        break;\n\n      default:\n        break;\n    }\n  }, []);\n  var renderAddAddressModalBodyItem = React.useCallback(function (field, optional) {\n    var focusedClass = classnames('cr-email-form__group', {\n      'cr-email-form__group--focused': getState(\"\".concat(field, \"Focused\")),\n      'cr-email-form__group--optional': optional\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: field,\n      className: focusedClass,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CustomInput, {\n      type: \"text\",\n      label: formatMessage({\n        id: \"page.body.wallets.beneficiaries.addAddressModal.body.\".concat(field)\n      }),\n      placeholder: formatMessage({\n        id: \"page.body.wallets.beneficiaries.addAddressModal.body.\".concat(field)\n      }),\n      defaultLabel: field,\n      handleChangeInput: function handleChangeInput(value) {\n        return handleChangeFieldValue(field, value);\n      } // @ts-ignore\n      ,\n      inputValue: getState(field),\n      handleFocusInput: function handleFocusInput() {\n        return handleChangeFieldFocus(\"\".concat(field, \"Focused\"));\n      },\n      classNameLabel: \"cr-email-form__label\",\n      classNameInput: \"cr-email-form__input\",\n      autoFocus: field === 'coinAddress' || field === 'fiatName',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }\n    }));\n  }, [formatMessage, getState, handleChangeFieldFocus, handleChangeFieldValue]);\n  var renderAddAddressModalCryptoBody = React.useCallback(function () {\n    var isDisabled = !coinAddress || !coinBeneficiaryName;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cr-email-form__form-content\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 13\n      }\n    }, renderAddAddressModalBodyItem('coinAddress'), renderAddAddressModalBodyItem('coinBeneficiaryName'), renderAddAddressModalBodyItem('coinDescription', true), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cr-email-form__button-wrapper\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      disabled: isDisabled,\n      onClick: handleSubmitAddAddressCoinModal,\n      size: \"lg\",\n      variant: \"primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 21\n      }\n    }, formatMessage({\n      id: 'page.body.wallets.beneficiaries.addAddressModal.body.button'\n    }))));\n  }, [coinAddress, coinBeneficiaryName, formatMessage, handleSubmitAddAddressCoinModal, renderAddAddressModalBodyItem]);\n  var handleSubmitAddAddressFiatModal = React.useCallback(function () {\n    var data = {\n      full_name: fiatFullName,\n      account_number: fiatAccountNumber,\n      bank_name: fiatBankName\n    };\n\n    if (fiatBankSwiftCode) {\n      data = _objectSpread(_objectSpread({}, data), {}, {\n        bank_swift_code: fiatBankSwiftCode\n      });\n    }\n\n    if (fiatIntermediaryBankName) {\n      data = _objectSpread(_objectSpread({}, data), {}, {\n        intermediary_bank_name: fiatIntermediaryBankName\n      });\n    }\n\n    if (fiatIntermediaryBankSwiftCode) {\n      data = _objectSpread(_objectSpread({}, data), {}, {\n        intermediary_bank_swift_code: fiatIntermediaryBankSwiftCode\n      });\n    }\n\n    var payload = {\n      currency: currency || '',\n      name: fiatName,\n      data: JSON.stringify(data)\n    };\n    dispatch(beneficiariesCreate(payload));\n    handleClearModalsInputs();\n  }, [currency, dispatch, fiatAccountNumber, fiatBankName, fiatBankSwiftCode, fiatFullName, fiatIntermediaryBankName, fiatIntermediaryBankSwiftCode, fiatName, handleClearModalsInputs]);\n  var renderAddAddressModalFiatBody = React.useCallback(function () {\n    var isDisabled = !fiatName || !fiatFullName || !fiatAccountNumber || !fiatBankName;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cr-email-form__form-content\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 13\n      }\n    }, renderAddAddressModalBodyItem('fiatName'), renderAddAddressModalBodyItem('fiatFullName'), renderAddAddressModalBodyItem('fiatAccountNumber'), renderAddAddressModalBodyItem('fiatBankName'), renderAddAddressModalBodyItem('fiatBankSwiftCode', true), renderAddAddressModalBodyItem('fiatIntermediaryBankName', true), renderAddAddressModalBodyItem('fiatIntermediaryBankSwiftCode', true), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cr-email-form__button-wrapper\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      disabled: isDisabled,\n      onClick: handleSubmitAddAddressFiatModal,\n      size: \"lg\",\n      variant: \"primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 21\n      }\n    }, formatMessage({\n      id: 'page.body.wallets.beneficiaries.addAddressModal.body.button'\n    }))));\n  }, [fiatAccountNumber, fiatBankName, fiatFullName, fiatName, formatMessage, handleSubmitAddAddressFiatModal, renderAddAddressModalBodyItem]);\n  var renderContent = React.useCallback(function () {\n    var addModalClass = classnames('beneficiaries-add-address-modal', {\n      'beneficiaries-add-address-modal--coin': type === 'coin',\n      'beneficiaries-add-address-modal--fiat': type === 'fiat',\n      'cr-modal': !isMobileDevice\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: addModalClass,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cr-email-form\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 17\n      }\n    }, renderAddAddressModalHeader(), type === 'coin' ? renderAddAddressModalCryptoBody() : renderAddAddressModalFiatBody()));\n  }, [type, isMobileDevice, renderAddAddressModalCryptoBody, renderAddAddressModalFiatBody, renderAddAddressModalHeader]);\n  return isMobileDevice ? /*#__PURE__*/React.createElement(Modal, {\n    title: formatMessage({\n      id: 'page.body.wallets.beneficiaries.addAddressModal.header'\n    }),\n    onClose: props.handleToggleAddAddressModal,\n    isOpen: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 13\n    }\n  }, renderContent()) : renderContent();\n};\n\nvar BeneficiariesAddModal = React.memo(BeneficiariesAddModalComponent);\nexport { BeneficiariesAddModal };","map":{"version":3,"sources":["/Users/anthonypafundi/Desktop/baseapp/src/components/Beneficiaries/BeneficiariesAddModal.tsx"],"names":["classnames","React","Button","useIntl","useDispatch","useSelector","Modal","beneficiariesCreate","selectMobileDeviceState","CustomInput","BeneficiariesAddModalComponent","props","useState","coinAddress","setCoinAddress","coinBeneficiaryName","setCoinBeneficiaryName","coinDescription","setCoinDescription","coinAddressFocused","setCoinAddressFocused","coinBeneficiaryNameFocused","setCoinBeneficiaryNameFocused","coinDescriptionFocused","setCoinDescriptionFocused","fiatName","setFiatName","fiatFullName","setFiatFullName","fiatAccountNumber","setFiatAccountNumber","fiatBankName","setFiatBankName","fiatBankSwiftCode","setFiatBankSwiftCode","fiatIntermediaryBankName","setFiatIntermediaryBankName","fiatIntermediaryBankSwiftCode","setFiatIntermediaryBankSwiftCode","fiatNameFocused","setFiatNameFocused","fiatFullNameFocused","setFiatFullNameFocused","fiatAccountNumberFocused","setFiatAccountNumberFocused","fiatBankNameFocused","setFiatBankNameFocused","fiatBankSwiftCodeFocused","setFiatBankSwiftCodeFocused","fiatIntermediaryBankNameFocused","setFiatIntermediaryBankNameFocused","fiatIntermediaryBankSwiftCodeFocused","setFiatIntermediaryBankSwiftCodeFocused","type","handleToggleAddAddressModal","currency","formatMessage","dispatch","isMobileDevice","handleClearModalsInputs","useCallback","handleClickToggleAddAddressModal","clear","renderAddAddressModalHeader","id","handleSubmitAddAddressCoinModal","payload","name","data","JSON","stringify","address","description","getState","key","handleChangeFieldValue","value","handleChangeFieldFocus","v","renderAddAddressModalBodyItem","field","optional","focusedClass","renderAddAddressModalCryptoBody","isDisabled","handleSubmitAddAddressFiatModal","full_name","account_number","bank_name","bank_swift_code","intermediary_bank_name","intermediary_bank_swift_code","renderAddAddressModalFiatBody","renderContent","addModalClass","BeneficiariesAddModal","memo"],"mappings":"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","sourcesContent":["import classnames from 'classnames';\nimport * as React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { useIntl } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Modal } from '../../mobile/components/Modal';\nimport {\n    beneficiariesCreate,\n    BeneficiaryBank,\n    selectMobileDeviceState,\n} from '../../modules';\nimport { CustomInput } from '../CustomInput';\n\ninterface Props {\n    currency: string;\n    type: 'fiat' | 'coin';\n    handleToggleAddAddressModal: () => void;\n    handleToggleConfirmationModal: () => void;\n}\n\n\nconst BeneficiariesAddModalComponent: React.FC<Props> = (props: Props) => {\n    const [coinAddress, setCoinAddress] = React.useState('');\n    const [coinBeneficiaryName, setCoinBeneficiaryName] = React.useState('');\n    const [coinDescription, setCoinDescription] = React.useState('');\n    const [coinAddressFocused, setCoinAddressFocused] = React.useState(false);\n    const [coinBeneficiaryNameFocused, setCoinBeneficiaryNameFocused] = React.useState(false);\n    const [coinDescriptionFocused, setCoinDescriptionFocused] = React.useState(false);\n\n    const [fiatName, setFiatName] = React.useState('');\n    const [fiatFullName, setFiatFullName] = React.useState('');\n    const [fiatAccountNumber, setFiatAccountNumber] = React.useState('');\n    const [fiatBankName, setFiatBankName] = React.useState('');\n    const [fiatBankSwiftCode, setFiatBankSwiftCode] = React.useState('');\n    const [fiatIntermediaryBankName, setFiatIntermediaryBankName] = React.useState('');\n    const [fiatIntermediaryBankSwiftCode, setFiatIntermediaryBankSwiftCode] = React.useState('');\n    const [fiatNameFocused, setFiatNameFocused] = React.useState(false);\n    const [fiatFullNameFocused, setFiatFullNameFocused] = React.useState(false);\n    const [fiatAccountNumberFocused, setFiatAccountNumberFocused] = React.useState(false);\n    const [fiatBankNameFocused, setFiatBankNameFocused] = React.useState(false);\n    const [fiatBankSwiftCodeFocused, setFiatBankSwiftCodeFocused] = React.useState(false);\n    const [fiatIntermediaryBankNameFocused, setFiatIntermediaryBankNameFocused] = React.useState(false);\n    const [fiatIntermediaryBankSwiftCodeFocused, setFiatIntermediaryBankSwiftCodeFocused] = React.useState(false);\n\n    const { type, handleToggleAddAddressModal, currency } = props;\n    const { formatMessage } = useIntl();\n    const dispatch = useDispatch();\n\n    const isMobileDevice = useSelector(selectMobileDeviceState);\n\n    const handleClearModalsInputs = React.useCallback(() => {\n        setCoinAddress('');\n        setCoinBeneficiaryName('');\n        setCoinDescription('');\n        setCoinAddressFocused(false);\n        setCoinBeneficiaryNameFocused(false);\n        setCoinDescriptionFocused(false);\n\n        setFiatAccountNumber('');\n        setFiatName('');\n        setFiatFullName('');\n        setFiatBankName('');\n        setFiatBankSwiftCode('');\n        setFiatIntermediaryBankName('');\n        setFiatIntermediaryBankSwiftCode('');\n        setFiatNameFocused(false);\n        setFiatFullNameFocused(false);\n        setFiatAccountNumberFocused(false);\n        setFiatBankNameFocused(false);\n        setFiatBankSwiftCodeFocused(false);\n        setFiatIntermediaryBankNameFocused(false);\n        setFiatIntermediaryBankSwiftCodeFocused(false);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const handleClickToggleAddAddressModal = React.useCallback((clear?: boolean) => () => {\n        handleToggleAddAddressModal();\n\n        if (clear) {\n            handleClearModalsInputs();\n        }\n    }, [handleClearModalsInputs, handleToggleAddAddressModal]);\n\n    const renderAddAddressModalHeader = React.useCallback(() => {\n        return (\n            <div className=\"cr-email-form__options-group\">\n                <div className=\"cr-email-form__option\">\n                    <div className=\"cr-email-form__option-inner\">\n                        {formatMessage({ id: 'page.body.wallets.beneficiaries.addAddressModal.header' })}\n                        <span\n                            className=\"pg-profile-page__close pg-profile-page__pull-right\"\n                            onClick={handleClickToggleAddAddressModal(true)}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }, [formatMessage, handleClickToggleAddAddressModal]);\n\n    const handleSubmitAddAddressCoinModal = React.useCallback(() => {\n        // tslint:disable-next-line:no-any\n        let payload: any = {\n            currency: currency || '',\n            name: coinBeneficiaryName,\n            data: JSON.stringify({\n                address: coinAddress,\n            }),\n        };\n\n        if (coinDescription) {\n            payload = {\n                ...payload,\n                description: coinDescription,\n            };\n        }\n\n        dispatch(beneficiariesCreate(payload));\n        handleClearModalsInputs();\n    }, [coinAddress, coinBeneficiaryName, coinDescription, dispatch, handleClearModalsInputs, currency]);\n\n    const getState = React.useCallback(key => {\n        switch (key) {\n            case 'coinAddress':\n                return coinAddress;\n            case 'coinBeneficiaryName':\n                return coinBeneficiaryName;\n            case 'coinDescription':\n                return coinDescription;\n            case 'coinAddressFocused':\n                return coinAddressFocused;\n            case 'coinBeneficiaryNameFocused':\n                return coinBeneficiaryNameFocused;\n            case 'coinDescriptionFocused':\n                return coinDescriptionFocused;\n            case 'fiatName':\n                return fiatName;\n            case 'fiatFullName':\n                return fiatFullName;\n            case 'fiatAccountNumber':\n                return fiatAccountNumber;\n            case 'fiatBankName':\n                return fiatBankName;\n            case 'fiatBankSwiftCode':\n                return fiatBankSwiftCode;\n            case 'fiatIntermediaryBankName':\n                return fiatIntermediaryBankName;\n            case 'fiatIntermediaryBankSwiftCode':\n                return fiatIntermediaryBankSwiftCode;\n            case 'fiatNameFocused':\n                return fiatNameFocused;\n            case 'fiatFullNameFocused':\n                return fiatFullNameFocused;\n            case 'fiatAccountNumberFocused':\n                return fiatAccountNumberFocused;\n            case 'fiatBankNameFocused':\n                return fiatBankNameFocused;\n            case 'fiatBankSwiftCodeFocused':\n                return fiatBankSwiftCodeFocused;\n            case 'fiatIntermediaryBankNameFocused':\n                return fiatIntermediaryBankNameFocused;\n            case 'fiatIntermediaryBankSwiftCodeFocused':\n                return fiatIntermediaryBankSwiftCodeFocused;\n            default:\n                return '';\n        }\n    }, [\n        coinAddress,\n        coinAddressFocused,\n        coinBeneficiaryName,\n        coinBeneficiaryNameFocused,\n        coinDescription,\n        coinDescriptionFocused,\n        fiatAccountNumber,\n        fiatAccountNumberFocused,\n        fiatBankName,\n        fiatBankNameFocused,\n        fiatBankSwiftCode,\n        fiatBankSwiftCodeFocused,\n        fiatFullName,\n        fiatFullNameFocused,\n        fiatIntermediaryBankName,\n        fiatIntermediaryBankNameFocused,\n        fiatIntermediaryBankSwiftCode,\n        fiatIntermediaryBankSwiftCodeFocused,\n        fiatName,\n        fiatNameFocused,\n    ]);\n\n    const handleChangeFieldValue = React.useCallback((key: string, value: string) => {\n        switch (key) {\n            case 'coinAddress':\n                setCoinAddress(value);\n                break;\n            case 'coinBeneficiaryName':\n                setCoinBeneficiaryName(value);\n                break;\n            case 'coinDescription':\n                setCoinDescription(value);\n                break;\n            case 'fiatName':\n                setFiatName(value);\n                break;\n            case 'fiatFullName':\n                setFiatFullName(value);\n                break;\n            case 'fiatAccountNumber':\n                setFiatAccountNumber(value);\n                break;\n            case 'fiatBankName':\n                setFiatBankName(value);\n                break;\n            case 'fiatBankSwiftCode':\n                setFiatBankSwiftCode(value);\n                break;\n            case 'fiatIntermediaryBankName':\n                setFiatIntermediaryBankName(value);\n                break;\n            case 'fiatIntermediaryBankSwiftCode':\n                setFiatIntermediaryBankSwiftCode(value);\n                break;\n            default:\n                break;\n        }\n    }, []);\n\n    const handleChangeFieldFocus = React.useCallback((key: string) => {\n        switch (key) {\n            case 'coinAddressFocused':\n                setCoinAddressFocused(v => !v);\n                break;\n            case 'coinBeneficiaryNameFocused':\n                setCoinBeneficiaryNameFocused(v => !v);\n                break;\n            case 'coinDescriptionFocused':\n                setCoinDescriptionFocused(v => !v);\n                break;\n            case 'fiatNameFocused':\n                setFiatNameFocused(v => !v);\n                break;\n            case 'fiatFullNameFocused':\n                setFiatFullNameFocused(v => !v);\n                break;\n            case 'fiatAccountNumberFocused':\n                setFiatAccountNumberFocused(v => !v);\n                break;\n            case 'fiatBankNameFocused':\n                setFiatBankNameFocused(v => !v);\n                break;\n            case 'fiatBankSwiftCodeFocused':\n                setFiatBankSwiftCodeFocused(v => !v);\n                break;\n            case 'fiatIntermediaryBankNameFocused':\n                setFiatIntermediaryBankNameFocused(v => !v);\n                break;\n            case 'fiatIntermediaryBankSwiftCodeFocused':\n                setFiatIntermediaryBankSwiftCodeFocused(v => !v);\n                break;\n            default:\n                break;\n        }\n    }, []);\n\n    const renderAddAddressModalBodyItem = React.useCallback((field: string, optional?: boolean) => {\n        const focusedClass = classnames('cr-email-form__group', {\n            'cr-email-form__group--focused': getState(`${field}Focused`),\n            'cr-email-form__group--optional': optional,\n        });\n\n        return (\n            <div key={field} className={focusedClass}>\n                <CustomInput\n                    type=\"text\"\n                    label={formatMessage({ id: `page.body.wallets.beneficiaries.addAddressModal.body.${field}` })}\n                    placeholder={formatMessage({ id: `page.body.wallets.beneficiaries.addAddressModal.body.${field}` })}\n                    defaultLabel={field}\n                    handleChangeInput={value => handleChangeFieldValue(field, value)}\n                    // @ts-ignore\n                    inputValue={getState(field)}\n                    handleFocusInput={() => handleChangeFieldFocus(`${field}Focused`)}\n                    classNameLabel=\"cr-email-form__label\"\n                    classNameInput=\"cr-email-form__input\"\n                    autoFocus={field === 'coinAddress' || field === 'fiatName'}\n                />\n            </div>\n        );\n    }, [formatMessage, getState, handleChangeFieldFocus, handleChangeFieldValue]);\n\n    const renderAddAddressModalCryptoBody = React.useCallback(() => {\n        const isDisabled = !coinAddress || !coinBeneficiaryName;\n\n        return (\n            <div className=\"cr-email-form__form-content\">\n                {renderAddAddressModalBodyItem('coinAddress')}\n                {renderAddAddressModalBodyItem('coinBeneficiaryName')}\n                {renderAddAddressModalBodyItem('coinDescription', true)}\n                <div className=\"cr-email-form__button-wrapper\">\n                    <Button\n                        disabled={isDisabled}\n                        onClick={handleSubmitAddAddressCoinModal}\n                        size=\"lg\"\n                        variant=\"primary\"\n                    >\n                        {formatMessage({ id: 'page.body.wallets.beneficiaries.addAddressModal.body.button' })}\n                    </Button>\n                </div>\n            </div>\n        );\n    }, [coinAddress, coinBeneficiaryName, formatMessage, handleSubmitAddAddressCoinModal, renderAddAddressModalBodyItem]);\n\n    const handleSubmitAddAddressFiatModal = React.useCallback(() => {\n        let data: BeneficiaryBank = {\n            full_name: fiatFullName,\n            account_number: fiatAccountNumber,\n            bank_name: fiatBankName,\n        };\n\n        if (fiatBankSwiftCode) {\n            data = {\n                ...data,\n                bank_swift_code: fiatBankSwiftCode,\n            };\n        }\n\n        if (fiatIntermediaryBankName) {\n            data = {\n                ...data,\n                intermediary_bank_name: fiatIntermediaryBankName,\n            };\n        }\n\n        if (fiatIntermediaryBankSwiftCode) {\n            data = {\n                ...data,\n                intermediary_bank_swift_code: fiatIntermediaryBankSwiftCode,\n            };\n        }\n\n        const payload = {\n            currency: currency || '',\n            name: fiatName,\n            data: JSON.stringify(data),\n        };\n\n        dispatch(beneficiariesCreate(payload));\n        handleClearModalsInputs();\n    }, [\n        currency,\n        dispatch,\n        fiatAccountNumber,\n        fiatBankName,\n        fiatBankSwiftCode,\n        fiatFullName,\n        fiatIntermediaryBankName,\n        fiatIntermediaryBankSwiftCode,\n        fiatName,\n        handleClearModalsInputs,\n    ]);\n\n    const renderAddAddressModalFiatBody = React.useCallback(() => {\n        const isDisabled = !fiatName || !fiatFullName || !fiatAccountNumber || !fiatBankName;\n\n        return (\n            <div className=\"cr-email-form__form-content\">\n                {renderAddAddressModalBodyItem('fiatName')}\n                {renderAddAddressModalBodyItem('fiatFullName')}\n                {renderAddAddressModalBodyItem('fiatAccountNumber')}\n                {renderAddAddressModalBodyItem('fiatBankName')}\n                {renderAddAddressModalBodyItem('fiatBankSwiftCode', true)}\n                {renderAddAddressModalBodyItem('fiatIntermediaryBankName', true)}\n                {renderAddAddressModalBodyItem('fiatIntermediaryBankSwiftCode', true)}\n                <div className=\"cr-email-form__button-wrapper\">\n                    <Button\n                        disabled={isDisabled}\n                        onClick={handleSubmitAddAddressFiatModal}\n                        size=\"lg\"\n                        variant=\"primary\"\n                    >\n                        {formatMessage({ id: 'page.body.wallets.beneficiaries.addAddressModal.body.button' })}\n                    </Button>\n                </div>\n            </div>\n        );\n    }, [fiatAccountNumber, fiatBankName, fiatFullName, fiatName, formatMessage, handleSubmitAddAddressFiatModal, renderAddAddressModalBodyItem]);\n\n    const renderContent = React.useCallback(() => {\n        const addModalClass = classnames('beneficiaries-add-address-modal', {\n            'beneficiaries-add-address-modal--coin': type === 'coin',\n            'beneficiaries-add-address-modal--fiat': type === 'fiat',\n            'cr-modal': !isMobileDevice,\n        });\n\n        return (\n            <div className={addModalClass}>\n                <div className=\"cr-email-form\">\n                    {renderAddAddressModalHeader()}\n                    {type === 'coin' ? renderAddAddressModalCryptoBody() : renderAddAddressModalFiatBody()}\n                </div>\n            </div>\n        );\n    }, [type, isMobileDevice, renderAddAddressModalCryptoBody, renderAddAddressModalFiatBody, renderAddAddressModalHeader]);\n\n    return (\n        isMobileDevice ?\n            <Modal\n                title={formatMessage({ id: 'page.body.wallets.beneficiaries.addAddressModal.header' })}\n                onClose={props.handleToggleAddAddressModal}\n                isOpen>\n                {renderContent()}\n            </Modal> : renderContent()\n    );\n};\n\nconst BeneficiariesAddModal= React.memo(BeneficiariesAddModalComponent);\n\nexport {\n    BeneficiariesAddModal,\n};\n"]},"metadata":{},"sourceType":"module"}