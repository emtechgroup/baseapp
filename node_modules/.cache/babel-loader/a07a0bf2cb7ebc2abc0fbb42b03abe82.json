{"ast":null,"code":"import _classCallCheck from \"/Users/anthonypafundi/Desktop/baseapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/anthonypafundi/Desktop/baseapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/anthonypafundi/Desktop/baseapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/anthonypafundi/Desktop/baseapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/anthonypafundi/Desktop/baseapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/anthonypafundi/Desktop/baseapp/src/containers/RecentTrades/index.tsx\";\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport { injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { TabPanel } from '../../components';\nimport { resetHistory as _resetHistory, selectCurrentMarket, selectCurrentPrice, selectMobileDeviceState, selectUserLoggedIn, setCurrentPrice as _setCurrentPrice } from '../../modules';\nimport { recentTradesFetch, selectRecentTradesOfCurrentMarket } from '../../modules/public/recentTrades';\nimport { RecentTradesMarket } from './Market';\nimport { RecentTradesYours } from './Yours';\n\nvar RecentTradesComponent = /*#__PURE__*/function (_React$Component) {\n  _inherits(RecentTradesComponent, _React$Component);\n\n  var _super = _createSuper(RecentTradesComponent);\n\n  function RecentTradesComponent() {\n    var _this;\n\n    _classCallCheck(this, RecentTradesComponent);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      tab: 'market',\n      index: 0,\n      disable: false\n    };\n    _this.tabMapping = ['market', 'yours'];\n\n    _this.renderContent = function () {\n      var isMobileDevice = _this.props.isMobileDevice;\n      return _this.props.userLoggedIn ? /*#__PURE__*/React.createElement(TabPanel, {\n        panels: _this.renderTabs(),\n        onTabChange: _this.handleMakeRequest,\n        optionalHead: _this.props.intl.formatMessage({\n          id: 'page.body.trade.header.recentTrades'\n        }),\n        currentTabIndex: _this.state.index,\n        isMobileDevice: isMobileDevice,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }\n      }) : /*#__PURE__*/React.createElement(\"div\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cr-table-header__content\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cr-title-component\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }\n      }, _this.props.intl.formatMessage({\n        id: 'page.body.trade.header.recentTrades'\n      }))), /*#__PURE__*/React.createElement(RecentTradesMarket, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }\n      }));\n    };\n\n    _this.renderTabs = function () {\n      var _this$state = _this.state,\n          tab = _this$state.tab,\n          index = _this$state.index;\n      return [{\n        content: tab === 'market' && index === 0 ? /*#__PURE__*/React.createElement(RecentTradesMarket, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 60\n          }\n        }) : null,\n        label: _this.props.intl.formatMessage({\n          id: 'page.body.trade.header.market'\n        })\n      }, {\n        content: tab === 'yours' ? /*#__PURE__*/React.createElement(RecentTradesYours, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 44\n          }\n        }) : null,\n        label: _this.props.intl.formatMessage({\n          id: 'page.body.trade.header.yours'\n        })\n      }];\n    };\n\n    _this.handleMakeRequest = function (index) {\n      if (_this.state.tab === _this.tabMapping[index]) {\n        return;\n      }\n\n      _this.setState({\n        tab: _this.tabMapping[index],\n        index: index\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(RecentTradesComponent, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.resetHistory();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = classnames({\n        'cr-table__noData': !this.props.recentTrades.length\n      });\n      var cn = classnames('pg-recent-trades', {\n        'pg-recent-trades-unlogged': !this.props.userLoggedIn\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: className,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: cn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }\n      }, this.renderContent()));\n    }\n  }]);\n\n  return RecentTradesComponent;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    recentTrades: selectRecentTradesOfCurrentMarket(state),\n    currentMarket: selectCurrentMarket(state),\n    currentPrice: selectCurrentPrice(state),\n    userLoggedIn: selectUserLoggedIn(state),\n    isMobileDevice: selectMobileDeviceState(state)\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    tradesFetch: function tradesFetch(market) {\n      return dispatch(recentTradesFetch(market));\n    },\n    setCurrentPrice: function setCurrentPrice(payload) {\n      return dispatch(_setCurrentPrice(payload));\n    },\n    resetHistory: function resetHistory() {\n      return dispatch(_resetHistory());\n    }\n  };\n};\n\nexport var RecentTrades = compose(injectIntl, connect(mapStateToProps, mapDispatchToProps))(RecentTradesComponent); // tslint:disable-line","map":{"version":3,"sources":["/Users/anthonypafundi/Desktop/baseapp/src/containers/RecentTrades/index.tsx"],"names":["classnames","React","injectIntl","connect","compose","TabPanel","resetHistory","selectCurrentMarket","selectCurrentPrice","selectMobileDeviceState","selectUserLoggedIn","setCurrentPrice","recentTradesFetch","selectRecentTradesOfCurrentMarket","RecentTradesMarket","RecentTradesYours","RecentTradesComponent","state","tab","index","disable","tabMapping","renderContent","isMobileDevice","props","userLoggedIn","renderTabs","handleMakeRequest","intl","formatMessage","id","content","label","setState","className","recentTrades","length","cn","Component","mapStateToProps","currentMarket","currentPrice","mapDispatchToProps","dispatch","tradesFetch","market","payload","RecentTrades"],"mappings":"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","sourcesContent":["import classnames from 'classnames';\nimport * as React from 'react';\nimport {\n    injectIntl,\n} from 'react-intl';\nimport { connect, MapDispatchToPropsFunction } from 'react-redux';\nimport { compose } from 'redux';\nimport { IntlProps } from '../../';\nimport { TabPanel } from '../../components';\nimport {\n    Market,\n    PublicTrade,\n    resetHistory,\n    RootState,\n    selectCurrentMarket,\n    selectCurrentPrice,\n    selectMobileDeviceState,\n    selectUserLoggedIn,\n    setCurrentPrice,\n} from '../../modules';\nimport { recentTradesFetch, selectRecentTradesOfCurrentMarket } from '../../modules/public/recentTrades';\nimport { RecentTradesMarket } from './Market';\nimport { RecentTradesYours } from './Yours';\n\ninterface ReduxProps {\n    recentTrades: PublicTrade[];\n    currentMarket: Market | undefined;\n    currentPrice: number | undefined;\n    userLoggedIn: boolean;\n    isMobileDevice: boolean;\n}\n\ninterface DispatchProps {\n    resetHistory: typeof resetHistory;\n    tradesFetch: typeof recentTradesFetch;\n    setCurrentPrice: typeof setCurrentPrice;\n}\n\ninterface State {\n    tab: string;\n    index: number;\n    disable: boolean;\n}\n\nexport type RecentTradesProps = DispatchProps & ReduxProps & IntlProps;\n\nclass RecentTradesComponent extends React.Component<RecentTradesProps, State> {\n    public state = { tab: 'market', index: 0, disable: false };\n\n    public tabMapping = ['market', 'yours'];\n\n    public componentWillUnmount() {\n        this.props.resetHistory();\n    }\n\n    public render() {\n        const className = classnames({\n            'cr-table__noData' : !this.props.recentTrades.length,\n        });\n\n        const cn = classnames('pg-recent-trades', {\n            'pg-recent-trades-unlogged' : !this.props.userLoggedIn,\n        });\n\n        return (\n          <div className={className}>\n            <div className={cn}>\n                {this.renderContent()}\n            </div>\n          </div>\n        );\n    }\n\n    private renderContent = () => {\n        const { isMobileDevice } = this.props;\n\n        return this.props.userLoggedIn ?\n        (\n            <TabPanel\n                panels={this.renderTabs()}\n                onTabChange={this.handleMakeRequest}\n                optionalHead={this.props.intl.formatMessage({ id: 'page.body.trade.header.recentTrades' })}\n                currentTabIndex={this.state.index}\n                isMobileDevice={isMobileDevice}\n            />\n        ) :\n        (\n            <div>\n                <div className=\"cr-table-header__content\">\n                    <div className=\"cr-title-component\">{this.props.intl.formatMessage({id: 'page.body.trade.header.recentTrades'})}</div>\n                </div>\n                <RecentTradesMarket />\n            </div>\n        );\n\n    };\n\n    private renderTabs = () => {\n        const { tab, index } = this.state;\n\n        return [\n            {\n                content: tab === 'market' && index === 0 ? <RecentTradesMarket /> : null,\n                label: this.props.intl.formatMessage({ id: 'page.body.trade.header.market' }),\n            },\n            {\n                content: tab === 'yours' ? <RecentTradesYours /> : null,\n                label: this.props.intl.formatMessage({ id: 'page.body.trade.header.yours' }),\n            },\n        ];\n    };\n\n    private handleMakeRequest = (index: number) => {\n        if (this.state.tab === this.tabMapping[index]) {\n            return;\n        }\n\n        this.setState({\n            tab: this.tabMapping[index],\n            index: index,\n        });\n    };\n}\n\nconst mapStateToProps = (state: RootState): ReduxProps => ({\n    recentTrades: selectRecentTradesOfCurrentMarket(state),\n    currentMarket: selectCurrentMarket(state),\n    currentPrice: selectCurrentPrice(state),\n    userLoggedIn: selectUserLoggedIn(state),\n    isMobileDevice: selectMobileDeviceState(state),\n});\n\nconst mapDispatchToProps: MapDispatchToPropsFunction<DispatchProps, {}> = dispatch => ({\n    tradesFetch: market => dispatch(recentTradesFetch(market)),\n    setCurrentPrice: payload => dispatch(setCurrentPrice(payload)),\n    resetHistory: () => dispatch(resetHistory()),\n});\n\nexport const RecentTrades = compose(\n    injectIntl,\n    connect(mapStateToProps, mapDispatchToProps),\n)(RecentTradesComponent) as any; // tslint:disable-line\n"]},"metadata":{},"sourceType":"module"}