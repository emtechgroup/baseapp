{"ast":null,"code":"import _toConsumableArray from \"/Users/anthonypafundi/Desktop/baseapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/anthonypafundi/Desktop/baseapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { defaultStorageLimit } from '../../../api';\nimport { sliceArray } from '../../../helpers';\nimport { getUnique } from '../../../helpers/getUnique';\nimport { HISTORY_DATA, HISTORY_ERROR, HISTORY_FETCH, HISTORY_PUSH_FINISH, HISTORY_RESET } from './constants';\nvar initialState = {\n  list: [],\n  fetching: false,\n  page: 0,\n  nextPageExists: false\n};\nexport var historyReducer = function historyReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HISTORY_FETCH:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        fetching: true\n      });\n\n    case HISTORY_DATA:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        list: sliceArray(action.payload.list, defaultStorageLimit()),\n        fetching: false,\n        page: action.payload.page,\n        nextPageExists: action.payload.nextPageExists\n      });\n\n    case HISTORY_ERROR:\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          list: [],\n          fetching: false,\n          nextPageExists: false,\n          page: 0\n        });\n      }\n\n    case HISTORY_RESET:\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          list: [],\n          page: 0,\n          nextPageExists: false\n        });\n      }\n\n    case HISTORY_PUSH_FINISH:\n      {\n        var list = _toConsumableArray(action.payload);\n\n        list = getUnique(list, 'id');\n        return _objectSpread(_objectSpread({}, state), {}, {\n          list: sliceArray(list, defaultStorageLimit())\n        });\n      }\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/Users/anthonypafundi/Desktop/baseapp/src/modules/user/history/reducer.ts"],"names":["defaultStorageLimit","sliceArray","getUnique","HISTORY_DATA","HISTORY_ERROR","HISTORY_FETCH","HISTORY_PUSH_FINISH","HISTORY_RESET","initialState","list","fetching","page","nextPageExists","historyReducer","state","action","type","payload"],"mappings":";;AAAA,SAASA,mBAAT,QAAoC,cAApC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,SAAT,QAA0B,4BAA1B;AAEA,SACIC,YADJ,EAEIC,aAFJ,EAGIC,aAHJ,EAIIC,mBAJJ,EAKIC,aALJ,QAMO,aANP;AAgBA,IAAMC,YAA0B,GAAG;AAC/BC,EAAAA,IAAI,EAAE,EADyB;AAE/BC,EAAAA,QAAQ,EAAE,KAFqB;AAG/BC,EAAAA,IAAI,EAAE,CAHyB;AAI/BC,EAAAA,cAAc,EAAE;AAJe,CAAnC;AAQA,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAkD;AAAA,MAAjDC,KAAiD,uEAAzCN,YAAyC;AAAA,MAA3BO,MAA2B;;AAC5E,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKX,aAAL;AACI,6CAAYS,KAAZ;AAAmBJ,QAAAA,QAAQ,EAAE;AAA7B;;AACJ,SAAKP,YAAL;AACI,6CACOW,KADP;AAEIL,QAAAA,IAAI,EAAER,UAAU,CAACc,MAAM,CAACE,OAAP,CAAeR,IAAhB,EAAsBT,mBAAmB,EAAzC,CAFpB;AAGIU,QAAAA,QAAQ,EAAE,KAHd;AAIIC,QAAAA,IAAI,EAAEI,MAAM,CAACE,OAAP,CAAeN,IAJzB;AAKIC,QAAAA,cAAc,EAAEG,MAAM,CAACE,OAAP,CAAeL;AALnC;;AAOJ,SAAKR,aAAL;AAAoB;AAChB,+CACOU,KADP;AAEIL,UAAAA,IAAI,EAAE,EAFV;AAGIC,UAAAA,QAAQ,EAAE,KAHd;AAIIE,UAAAA,cAAc,EAAE,KAJpB;AAKID,UAAAA,IAAI,EAAE;AALV;AAOH;;AACD,SAAKJ,aAAL;AAAoB;AAChB,+CAAYO,KAAZ;AAAmBL,UAAAA,IAAI,EAAE,EAAzB;AAA6BE,UAAAA,IAAI,EAAE,CAAnC;AAAsCC,UAAAA,cAAc,EAAE;AAAtD;AACH;;AACD,SAAKN,mBAAL;AAA0B;AACtB,YAAIG,IAAI,sBAAOM,MAAM,CAACE,OAAd,CAAR;;AACAR,QAAAA,IAAI,GAAGP,SAAS,CAACO,IAAD,EAAO,IAAP,CAAhB;AAEA,+CAAYK,KAAZ;AAAmBL,UAAAA,IAAI,EAAER,UAAU,CAACQ,IAAD,EAAOT,mBAAmB,EAA1B;AAAnC;AACH;;AACD;AACI,aAAOc,KAAP;AA9BR;AAgCH,CAjCM","sourcesContent":["import { defaultStorageLimit } from '../../../api';\nimport { sliceArray } from '../../../helpers';\nimport { getUnique } from '../../../helpers/getUnique';\nimport { HistoryActions } from './actions';\nimport {\n    HISTORY_DATA,\n    HISTORY_ERROR,\n    HISTORY_FETCH,\n    HISTORY_PUSH_FINISH,\n    HISTORY_RESET,\n} from './constants';\nimport { WalletHistoryList } from './types';\n\nexport interface HistoryState {\n    list: WalletHistoryList;\n    fetching: boolean;\n    page: number;\n    nextPageExists: boolean;\n}\n\nconst initialState: HistoryState = {\n    list: [],\n    fetching: false,\n    page: 0,\n    nextPageExists: false,\n};\n\n\nexport const historyReducer = (state = initialState, action: HistoryActions) => {\n    switch (action.type) {\n        case HISTORY_FETCH:\n            return { ...state, fetching: true };\n        case HISTORY_DATA:\n            return {\n                ...state,\n                list: sliceArray(action.payload.list, defaultStorageLimit()),\n                fetching: false,\n                page: action.payload.page,\n                nextPageExists: action.payload.nextPageExists,\n            };\n        case HISTORY_ERROR: {\n            return {\n                ...state,\n                list: [],\n                fetching: false,\n                nextPageExists: false,\n                page: 0,\n            };\n        }\n        case HISTORY_RESET: {\n            return { ...state, list: [], page: 0, nextPageExists: false };\n        }\n        case HISTORY_PUSH_FINISH: {\n            let list = [...action.payload];\n            list = getUnique(list, 'id');\n\n            return { ...state, list: sliceArray(list, defaultStorageLimit()) };\n        }\n        default:\n            return state;\n    }\n};\n"]},"metadata":{},"sourceType":"module"}