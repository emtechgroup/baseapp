{"ast":null,"code":"import _slicedToArray from \"/Users/anthonypafundi/Desktop/baseapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/anthonypafundi/Desktop/baseapp/src/mobile/screens/ProfileAuth/index.tsx\";\n\nimport * as React from 'react';\nimport { useIntl } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport { ProfileTwoFactorAuth } from '../../../containers/ProfileTwoFactorAuth';\nimport { selectUserInfo, toggle2faFetch } from '../../../modules/user/profile';\nimport { ProfileTwoFactorAuthScreen } from '../../../screens/ProfileTwoFactorAuthScreen';\nimport { TwoFactorModal } from '../../components';\nimport { Subheader } from '../../components/Subheader';\nexport var ProfileAuthMobileScreen = React.memo(function () {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      showModal = _React$useState2[0],\n      setShowModal = _React$useState2[1];\n\n  var dispatch = useDispatch();\n  var history = useHistory();\n  var intl = useIntl();\n  var user = useSelector(selectUserInfo);\n\n  var handleToggle2FA = function handleToggle2FA(code2FA, shouldFetch) {\n    if (shouldFetch) {\n      dispatch(toggle2faFetch({\n        code: code2FA,\n        enable: false\n      }));\n      history.push('/profile');\n    }\n\n    setShowModal(false);\n  };\n\n  var handleNavigateTo2fa = React.useCallback(function (enable2fa) {\n    if (!enable2fa) {\n      setShowModal(function (state) {\n        return !state;\n      });\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Subheader, {\n    title: intl.formatMessage({\n      id: 'page.profile.kyc.title'\n    }),\n    backTitle: intl.formatMessage({\n      id: 'page.body.profile.header.account'\n    }),\n    onGoBack: function onGoBack() {\n      return history.push('/profile');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cr-mobile-profile-auth\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cr-mobile-profile-auth__enable\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cr-mobile-profile-auth__enable-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ProfileTwoFactorAuth, {\n    is2faEnabled: user.otp,\n    navigateTo2fa: handleNavigateTo2fa,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }\n  })), !user.otp ? /*#__PURE__*/React.createElement(ProfileTwoFactorAuthScreen, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 34\n    }\n  }) : null), /*#__PURE__*/React.createElement(TwoFactorModal, {\n    showModal: showModal,\n    handleToggle2FA: handleToggle2FA,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  })));\n});","map":{"version":3,"sources":["/Users/anthonypafundi/Desktop/baseapp/src/mobile/screens/ProfileAuth/index.tsx"],"names":["React","useIntl","useDispatch","useSelector","useHistory","ProfileTwoFactorAuth","selectUserInfo","toggle2faFetch","ProfileTwoFactorAuthScreen","TwoFactorModal","Subheader","ProfileAuthMobileScreen","memo","useState","showModal","setShowModal","dispatch","history","intl","user","handleToggle2FA","code2FA","shouldFetch","code","enable","push","handleNavigateTo2fa","useCallback","enable2fa","state","formatMessage","id","otp"],"mappings":";;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,OAAT,QAAwB,YAAxB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,oBAAT,QAAqC,0CAArC;AACA,SAASC,cAAT,EAAyBC,cAAzB,QAA+C,+BAA/C;AACA,SAASC,0BAAT,QAA2C,6CAA3C;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,SAAT,QAA0B,4BAA1B;AAEA,OAAO,IAAMC,uBAAiC,GAAGX,KAAK,CAACY,IAAN,CAAW,YAAM;AAAA,wBAC5BZ,KAAK,CAACa,QAAN,CAAe,KAAf,CAD4B;AAAA;AAAA,MACvDC,SADuD;AAAA,MAC5CC,YAD4C;;AAE9D,MAAMC,QAAQ,GAAGd,WAAW,EAA5B;AACA,MAAMe,OAAO,GAAGb,UAAU,EAA1B;AACA,MAAMc,IAAI,GAAGjB,OAAO,EAApB;AACA,MAAMkB,IAAI,GAAGhB,WAAW,CAACG,cAAD,CAAxB;;AAEA,MAAMc,eAAe,GAAG,SAAlBA,eAAkB,CAACC,OAAD,EAAUC,WAAV,EAA0B;AAC9C,QAAIA,WAAJ,EAAiB;AACbN,MAAAA,QAAQ,CAACT,cAAc,CAAC;AACpBgB,QAAAA,IAAI,EAAEF,OADc;AAEpBG,QAAAA,MAAM,EAAE;AAFY,OAAD,CAAf,CAAR;AAIAP,MAAAA,OAAO,CAACQ,IAAR,CAAa,UAAb;AACH;;AACDV,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,GATD;;AAWA,MAAMW,mBAAmB,GAAG1B,KAAK,CAAC2B,WAAN,CAAkB,UAACC,SAAD,EAAwB;AAClE,QAAI,CAACA,SAAL,EAAgB;AACZb,MAAAA,YAAY,CAAC,UAAAc,KAAK;AAAA,eAAI,CAACA,KAAL;AAAA,OAAN,CAAZ;AACH;AACJ,GAJ2B,EAIzB,EAJyB,CAA5B;AAMA,sBACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AACI,IAAA,KAAK,EAAEX,IAAI,CAACY,aAAL,CAAmB;AAAEC,MAAAA,EAAE,EAAE;AAAN,KAAnB,CADX;AAEI,IAAA,SAAS,EAAEb,IAAI,CAACY,aAAL,CAAmB;AAAEC,MAAAA,EAAE,EAAE;AAAN,KAAnB,CAFf;AAGI,IAAA,QAAQ,EAAE;AAAA,aAAMd,OAAO,CAACQ,IAAR,CAAa,UAAb,CAAN;AAAA,KAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAMI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,oBAAD;AACI,IAAA,YAAY,EAAEN,IAAI,CAACa,GADvB;AAEI,IAAA,aAAa,EAAEN,mBAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,EAOK,CAACP,IAAI,CAACa,GAAN,gBAAY,oBAAC,0BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAZ,GAA4C,IAPjD,CADJ,eAUI,oBAAC,cAAD;AACI,IAAA,SAAS,EAAElB,SADf;AAEI,IAAA,eAAe,EAAEM,eAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,CANJ,CADJ;AAwBH,CAhDgD,CAA1C","sourcesContent":["import * as React from 'react';\nimport { useIntl } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport { ProfileTwoFactorAuth } from '../../../containers/ProfileTwoFactorAuth';\nimport { selectUserInfo, toggle2faFetch } from '../../../modules/user/profile';\nimport { ProfileTwoFactorAuthScreen } from '../../../screens/ProfileTwoFactorAuthScreen';\nimport { TwoFactorModal } from '../../components';\nimport { Subheader } from '../../components/Subheader';\n\nexport const ProfileAuthMobileScreen: React.FC = React.memo(() => {\n    const [showModal, setShowModal] = React.useState(false);\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const intl = useIntl();\n    const user = useSelector(selectUserInfo);\n\n    const handleToggle2FA = (code2FA, shouldFetch) => {\n        if (shouldFetch) {\n            dispatch(toggle2faFetch({\n                code: code2FA,\n                enable: false,\n            }));\n            history.push('/profile');\n        }\n        setShowModal(false);\n    };\n\n    const handleNavigateTo2fa = React.useCallback((enable2fa: boolean) => {\n        if (!enable2fa) {\n            setShowModal(state => !state);\n        }\n    }, []);\n\n    return (\n        <React.Fragment>\n            <Subheader\n                title={intl.formatMessage({ id: 'page.profile.kyc.title' })}\n                backTitle={intl.formatMessage({ id: 'page.body.profile.header.account' })}\n                onGoBack={() => history.push('/profile')}\n            />\n            <div className=\"cr-mobile-profile-auth\">\n                <div className=\"cr-mobile-profile-auth__enable\">\n                    <div className=\"cr-mobile-profile-auth__enable-label\">\n                        <ProfileTwoFactorAuth\n                            is2faEnabled={user.otp}\n                            navigateTo2fa={handleNavigateTo2fa}\n                        />\n                    </div>\n                    {!user.otp ? <ProfileTwoFactorAuthScreen/> : null}\n                </div>\n                <TwoFactorModal\n                    showModal={showModal}\n                    handleToggle2FA={handleToggle2FA}\n                />\n            </div>\n        </React.Fragment>\n    );\n});\n"]},"metadata":{},"sourceType":"module"}